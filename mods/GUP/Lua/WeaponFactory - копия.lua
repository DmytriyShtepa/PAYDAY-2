--if not WeaponFactoryTweakData then return end

--	Barrel Extensions
local barrel_extensions = {
	hide = {
		unit = "units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy",
		third_unit = "units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy"
	},
	stubby = {
		unit_name = "wpn_fps_upg_ns_ass_smg_stubby",
		unit = "units/payday2/weapons/wpn_fps_upg_ns_ass_smg_stubby/wpn_fps_upg_ns_ass_smg_stubby",
		third_unit = "units/payday2/weapons/wpn_third_upg_ns_ass_smg_stubby/wpn_third_upg_ns_ass_smg_stubby"
	},
	tank = {
		unit_name = "wpn_fps_upg_ns_ass_smg_tank",
		unit = "units/payday2/weapons/wpn_fps_upg_ns_ass_smg_tank/wpn_fps_upg_ns_ass_smg_tank",
		third_unit = "units/payday2/weapons/wpn_third_upg_ns_ass_smg_tank/wpn_third_upg_ns_ass_smg_tank"
	},
	fire_breather = {
		unit_name = "wpn_fps_upg_ns_ass_smg_firepig",
		unit = "units/payday2/weapons/wpn_fps_upg_ns_ass_smg_firepig/wpn_fps_upg_ns_ass_smg_firepig",
		third_unit = "units/payday2/weapons/wpn_third_upg_ns_ass_smg_firepig/wpn_third_upg_ns_ass_smg_firepig"
	},
	competitors = {
		unit_name = "wpn_fps_upg_ass_ns_jprifles",
		unit = "units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_barrel_extentions/wpn_fps_upg_ass_ns_jprifles",
		third_unit = "units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_barrel_extentions/wpn_third_upg_ass_ns_jprifles"
	},
	funnel_of_fun = {
		unit_name = "wpn_fps_upg_ass_ns_linear",
		unit = "units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_barrel_extentions/wpn_fps_upg_ass_ns_linear",
		third_unit = "units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_barrel_extentions/wpn_third_upg_ass_ns_linear"
	},
	tactical = {
		unit_name = "wpn_fps_upg_ass_ns_surefire",
		unit = "units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_barrel_extentions/wpn_fps_upg_ass_ns_surefire",
		third_unit = "units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_barrel_extentions/wpn_third_upg_ass_ns_surefire"
	},
	ported = {
		unit_name = "wpn_fps_upg_ass_ns_battle",
		unit = "units/pd2_dlc_butcher_mods/weapons/wpn_fps_upg_ass_ns_battle/wpn_fps_upg_ass_ns_battle",
		third_unit = "units/pd2_dlc_butcher_mods/weapons/wpn_third_upg_ass_ns_battle/wpn_third_upg_ass_ns_battle"
	},
	shark_teeth = {
		unit_name = "wpn_fps_upg_ns_shot_shark",
		unit = "units/payday2/weapons/wpn_fps_upg_ns_shot_shark/wpn_fps_upg_ns_shot_shark",
		third_unit = "units/payday2/weapons/wpn_third_upg_ns_shot_shark/wpn_third_upg_ns_shot_shark"
	},
	kings_crown = {
		unit_name = "wpn_fps_upg_shot_ns_king",
		unit = "units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_barrel_extentions/wpn_fps_upg_shot_ns_king",
		third_unit = "units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_barrel_extentions/wpn_third_upg_shot_ns_king"
	},
	l85a2_nozzle = {
		unit = "units/pd2_dlc_clover/weapons/wpn_fps_ass_l85a2_pts/wpn_fps_ass_l85a2_ns_standard",
		third_unit = "units/pd2_dlc_clover/weapons/wpn_third_ass_l85a2_pts/wpn_third_ass_l85a2_ns_standard"
	},
	mg42_n38 = {
		unit = "units/pd2_dlc_gage_historical/weapons/wpn_fps_lmg_mg42_pts/wpn_fps_lmg_mg42_n38",
		third_unit = "units/pd2_dlc_gage_historical/weapons/wpn_third_lmg_mg42_pts/wpn_third_lmg_mg42_n38"
	},
	mg42_n34 = {
		unit = "units/pd2_dlc_gage_historical/weapons/wpn_fps_lmg_mg42_pts/wpn_fps_lmg_mg42_n34",
		third_unit = "units/pd2_dlc_gage_historical/weapons/wpn_third_lmg_mg42_pts/wpn_third_lmg_mg42_nozzle_34"
	},
	mg42_n42 = {
		unit = "units/pd2_dlc_gage_historical/weapons/wpn_fps_lmg_mg42_pts/wpn_fps_lmg_mg42_n42",
		third_unit = "units/pd2_dlc_gage_historical/weapons/wpn_third_lmg_mg42_pts/wpn_third_lmg_mg42_nozzle_42"
	},
	thompson_ns = {
		unit = "units/pd2_dlc_pines/weapons/wpn_fps_smg_m1928_pts/wpn_fps_smg_thompson_ns_standard",
		third_unit = "units/pd2_dlc_pines/weapons/wpn_fps_smg_m1928_pts/wpn_third_smg_thompson_ns_standard"
	},
	thompson_ns_no = {
		unit = "units/pd2_dlc_pines/weapons/wpn_fps_smg_m1928_pts/wpn_fps_smg_thompson_ns_no",
		third_unit = "units/pd2_dlc_pines/weapons/wpn_fps_smg_m1928_pts/wpn_third_smg_thompson_ns_no"
	},
	scar_ns = {
		unit = "units/pd2_dlc_dec5/weapons/wpn_fps_ass_scar_pts/wpn_fps_ass_scar_ns_standard",
		third_unit = "units/pd2_dlc_dec5/weapons/wpn_third_ass_scar_pts/wpn_third_ass_scar_ns_standard"
	},
	scar_ns_short = {
		unit = "units/pd2_dlc_dec5/weapons/wpn_fps_ass_scar_pts/wpn_fps_ass_scar_ns_short",
		third_unit = "units/pd2_dlc_dec5/weapons/wpn_third_ass_scar_pts/wpn_third_ass_scar_ns_short"
	},
	vhs_ns = {
		unit = "units/pd2_dlc_dragan/weapons/wpn_fps_ass_vhs_pts/wpn_fps_ass_vhs_ns_vhs",
		third_unit = "units/pd2_dlc_dragan/weapons/wpn_fps_ass_vhs_pts/wpn_third_ass_vhs_ns_vhs"
	},
	vhs_ns_no = {
		unit = "units/pd2_dlc_dragan/weapons/wpn_fps_ass_vhs_pts/wpn_fps_ass_vhs_ns_vhs_no",
		third_unit = "units/pd2_dlc_dragan/weapons/wpn_fps_ass_vhs_pts/wpn_fps_ass_vhs_ns_vhs_no"
	},
	ak_105 = {
		unit = "units/pd2_dlc_akm4_modpack/weapons/wpn_fps_upg_ak_b_ak105/wpn_fps_upg_ak_ns_ak105",
		third_unit = "units/pd2_dlc_akm4_modpack/weapons/wpn_third_upg_ak_b_ak105/wpn_third_upg_ak_ns_ak105"
	},
	flash_hider = {
		unit_name = "wpn_fps_upg_pis_ns_flash",
		unit = "units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_barrel_extentions/wpn_fps_upg_pis_ns_flash",
		third_unit = "units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_barrel_extentions/wpn_third_upg_pis_ns_flash"
	},
	low_profile = {
		unit_name = "wpn_fps_upg_ns_ass_smg_small",
		unit = "units/payday2/weapons/wpn_fps_upg_ns_ass_smg_small/wpn_fps_upg_ns_ass_smg_small",
		third_unit = "units/payday2/weapons/wpn_third_upg_ns_ass_smg_small/wpn_third_upg_ns_ass_smg_small"
	},
	medium_suppressor = {
		unit_name = "wpn_fps_upg_ns_ass_smg_medium",
		unit = "units/payday2/weapons/wpn_fps_upg_ns_ass_smg_small/wpn_fps_upg_ns_ass_smg_small",
		third_unit = "units/payday2/weapons/wpn_third_upg_ns_ass_smg_medium/wpn_third_upg_ns_ass_smg_medium"
	},
	the_bigger_then_better = {
		unit_name = "wpn_fps_upg_ns_ass_smg_large",
		unit = "units/payday2/weapons/wpn_fps_upg_ns_ass_smg_small/wpn_fps_upg_ns_ass_smg_small",
		third_unit = "units/payday2/weapons/wpn_third_upg_ns_ass_smg_medium/wpn_third_upg_ns_ass_smg_medium"
	}		
}

--	Add missing parts on barrel when use "Hide" and "Bayonet"
--	option in barrel extensions customizer
function hide(compensator)
	--Hide
	tweak_data.weapon.factory.parts[compensator].unit = barrel_extensions.hide.unit
	tweak_data.weapon.factory.parts[compensator].third_unit = barrel_extensions.hide.third_unit	
	--L85A2
	tweak_data.weapon.factory.parts.wpn_fps_ass_l85a2_b_medium.override[compensator] = {
		unit = barrel_extensions.l85a2_nozzle.unit,
		third_unit = barrel_extensions.l85a2_nozzle.third_unit
	}
	tweak_data.weapon.factory.parts.wpn_fps_ass_l85a2_b_long.override = deep_clone(tweak_data.weapon.factory.parts.wpn_fps_ass_l85a2_b_medium.override)
	tweak_data.weapon.factory.parts.wpn_fps_ass_l85a2_b_short.override = deep_clone(tweak_data.weapon.factory.parts.wpn_fps_ass_l85a2_b_medium.override)
	--MG42
	tweak_data.weapon.factory.parts.wpn_fps_lmg_mg42_b_vg38.override[compensator] = {
		unit = barrel_extensions.mg42_n38.unit,
		third_unit = barrel_extensions.mg42_n38.third_unit
	}
	tweak_data.weapon.factory.parts.wpn_fps_lmg_mg42_b_mg34.override[compensator] = {
		unit = barrel_extensions.mg42_n34.unit,
		third_unit = barrel_extensions.mg42_n34.third_unit
	}
	tweak_data.weapon.factory.parts.wpn_fps_lmg_mg42_b_mg42.override[compensator] = {
		unit = barrel_extensions.mg42_n42.unit,
		third_unit = barrel_extensions.mg42_n42.third_unit
	}	
	--Thompson
	tweak_data.weapon.factory.parts.wpn_fps_smg_thompson_barrel.override[compensator] = {
		unit = barrel_extensions.thompson_ns.unit,
		third_unit = barrel_extensions.thompson_ns.third_unit
	}			
	tweak_data.weapon.factory.parts.wpn_fps_smg_thompson_barrel_short.override[compensator] = {
		unit = barrel_extensions.thompson_ns.unit,
		third_unit = barrel_extensions.thompson_ns.third_unit
	}			
	tweak_data.weapon.factory.parts.wpn_fps_smg_thompson_barrel_long.override = deep_clone(tweak_data.weapon.factory.parts.wpn_fps_smg_thompson_barrel.override)
	--SCAR
	tweak_data.weapon.factory.parts.wpn_fps_ass_scar_b_short.override[compensator] = {
		unit = barrel_extensions.scar_ns_short.unit,
		third_unit = barrel_extensions.scar_ns_short.third_unit
	}
	tweak_data.weapon.factory.parts.wpn_fps_ass_scar_b_medium.override[compensator] = {
		unit = barrel_extensions.scar_ns.unit,
		third_unit = barrel_extensions.scar_ns.third_unit
	}		
	tweak_data.weapon.factory.parts.wpn_fps_ass_scar_b_long.override = deep_clone(tweak_data.weapon.factory.parts.wpn_fps_ass_scar_b_medium.override)
	--VHS
	tweak_data.weapon.factory.parts.wpn_fps_ass_vhs_b_standard.override[compensator] = {
		unit = barrel_extensions.vhs_ns.unit,
		third_unit = barrel_extensions.vhs_ns.third_unit
	}
	tweak_data.weapon.factory.parts.wpn_fps_ass_vhs_b_short.override[compensator] = {
		unit = barrel_extensions.vhs_ns.unit,
		third_unit = barrel_extensions.vhs_ns.third_unit
	}		
	tweak_data.weapon.factory.parts.wpn_fps_ass_vhs_b_sniper.override[compensator] = {
		unit = barrel_extensions.vhs_ns_no.unit,
		third_unit = barrel_extensions.vhs_ns_no.third_unit
	}
	--AK
	tweak_data.weapon.factory.parts.wpn_fps_upg_ak_b_ak105.override[compensator] = {
		unit = barrel_extensions.ak_105.unit,
		third_unit = barrel_extensions.ak_105.third_unit,
	}
	
	log("Hide complete")
end
	
--Globals
--For Hide
tweak_data.weapon.factory.parts.wpn_fps_ass_l85a2_b_medium.override = {}
tweak_data.weapon.factory.parts.wpn_fps_smg_thompson_barrel.override = {}
tweak_data.weapon.factory.parts.wpn_fps_ass_scar_b_medium.override = {}
tweak_data.weapon.factory.parts.wpn_fps_ass_vhs_b_short.override = {}
tweak_data.weapon.factory.parts.wpn_fps_lmg_mg42_b_mg42.override = {}

--Stubby Compensator
if GageUpgradeOptions._opts.GlobalOpt._stubby_compensator == 2 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.unit = barrel_extensions.tank.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.third_unit = barrel_extensions.tank.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._stubby_compensator == 3 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.unit = barrel_extensions.fire_breather.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.third_unit = barrel_extensions.fire_breather.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._stubby_compensator == 4 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.unit = barrel_extensions.competitors.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.third_unit = barrel_extensions.competitors.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._stubby_compensator == 5 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.unit = barrel_extensions.funnel_of_fun.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.third_unit = barrel_extensions.funnel_of_fun.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._stubby_compensator == 6 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.unit = barrel_extensions.tactical.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.third_unit = barrel_extensions.tactical.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._stubby_compensator == 7 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.unit = barrel_extensions.ported.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.third_unit = barrel_extensions.ported.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._stubby_compensator == 8 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.unit = barrel_extensions.shark_teeth.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.third_unit = barrel_extensions.shark_teeth.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._stubby_compensator == 9 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.unit = barrel_extensions.kings_crown.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.third_unit = barrel_extensions.kings_crown.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._stubby_compensator == 10 then
	hide("wpn_fps_upg_ns_ass_smg_stubby")
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_stubby.adds = { "wpn_fps_upg_ak_bayonet" }
elseif GageUpgradeOptions._opts.GlobalOpt._stubby_compensator == 11 then
	log("Hide stubby")
	hide("wpn_fps_upg_ns_ass_smg_stubby")
end

--Tank Compensator
log("Tank")
if GageUpgradeOptions._opts.GlobalOpt._tank_compensator == 2 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.unit = barrel_extensions.stubby.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.third_unit = barrel_extensions.stubby.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._tank_compensator == 3 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.unit = barrel_extensions.fire_breather.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.third_unit = barrel_extensions.fire_breather.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._tank_compensator == 4 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.unit = barrel_extensions.competitors.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.third_unit = barrel_extensions.competitors.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._tank_compensator == 5 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.unit = barrel_extensions.funnel_of_fun.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.third_unit = barrel_extensions.funnel_of_fun.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._tank_compensator == 6 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.unit = barrel_extensions.tactical.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.third_unit = barrel_extensions.tactical.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._tank_compensator == 7 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.unit = barrel_extensions.ported.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.third_unit = barrel_extensions.ported.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._tank_compensator == 8 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.unit = barrel_extensions.shark_teeth.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.third_unit = barrel_extensions.shark_teeth.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._tank_compensator == 9 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.unit = barrel_extensions.kings_crown.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.third_unit = barrel_extensions.kings_crown.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._tank_compensator == 10 then
	hide("wpn_fps_upg_ns_ass_smg_tank")
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_tank.adds = { "wpn_fps_upg_ak_bayonet" }
elseif GageUpgradeOptions._opts.GlobalOpt._tank_compensator == 11 then
	hide("wpn_fps_upg_ns_ass_smg_tank")
end

--Fire Breather Nozzle
if GageUpgradeOptions._opts.GlobalOpt._fire_breather == 2 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.unit = barrel_extensions.stubby.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.third_unit = barrel_extensions.stubby.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._fire_breather == 3 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.unit = barrel_extensions.tank.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.third_unit = barrel_extensions.tank.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._fire_breather == 4 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.unit = barrel_extensions.competitors.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.third_unit = barrel_extensions.competitors.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._fire_breather == 5 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.unit = barrel_extensions.funnel_of_fun.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.third_unit = barrel_extensions.funnel_of_fun.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._fire_breather == 6 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.unit = barrel_extensions.tactical.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.third_unit = barrel_extensions.tactical.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._fire_breather == 7 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.unit = barrel_extensions.ported.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.third_unit = barrel_extensions.ported.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._fire_breather == 8 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.unit = barrel_extensions.shark_teeth.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.third_unit = barrel_extensions.shark_teeth.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._fire_breather == 9 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.unit = barrel_extensions.kings_crown.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.third_unit = barrel_extensions.kings_crown.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._fire_breather == 10 then
	hide("wpn_fps_upg_ns_ass_smg_firepig")
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_ass_smg_firepig.adds = { "wpn_fps_upg_ak_bayonet" }
elseif GageUpgradeOptions._opts.GlobalOpt._fire_breather == 11 then
	hide("wpn_fps_upg_ns_ass_smg_firepig")
end

--Competitor's Compensator
if GageUpgradeOptions._opts.GlobalOpt._competitors_compensator == 2 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.unit = barrel_extensions.stubby.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.third_unit = barrel_extensions.stubby.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._competitors_compensator == 3 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.unit = barrel_extensions.tank.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.third_unit = barrel_extensions.tank.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._competitors_compensator == 4 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.unit = barrel_extensions.fire_breather.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.third_unit = barrel_extensions.fire_breather.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._competitors_compensator == 5 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.unit = barrel_extensions.funnel_of_fun.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.third_unit = barrel_extensions.funnel_of_fun.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._competitors_compensator == 6 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.unit = barrel_extensions.tactical.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.third_unit = barrel_extensions.tactical.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._competitors_compensator == 7 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.unit = barrel_extensions.ported.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.third_unit = barrel_extensions.ported.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._competitors_compensator == 8 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.unit = barrel_extensions.shark_teeth.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.third_unit = barrel_extensions.shark_teeth.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._competitors_compensator == 9 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.unit = barrel_extensions.kings_crown.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.third_unit = barrel_extensions.kings_crown.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._competitors_compensator == 10 then
	hide("wpn_fps_upg_ass_ns_jprifles")
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_jprifles.adds = { "wpn_fps_upg_ak_bayonet" }
elseif GageUpgradeOptions._opts.GlobalOpt._competitors_compensator == 11 then
	hide("wpn_fps_upg_ass_ns_jprifles")
end

--Funnel of Fun Nozzle
if GageUpgradeOptions._opts.GlobalOpt._funnel_of_fun == 2 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.unit = barrel_extensions.stubby.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.third_unit = barrel_extensions.stubby.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._funnel_of_fun == 3 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.unit = barrel_extensions.tank.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.third_unit = barrel_extensions.tank.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._funnel_of_fun == 4 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.unit = barrel_extensions.fire_breather.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.third_unit = barrel_extensions.fire_breather.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._funnel_of_fun == 5 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.unit = barrel_extensions.competitors.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.third_unit = barrel_extensions.competitors.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._funnel_of_fun == 6 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.unit = barrel_extensions.tactical.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.third_unit = barrel_extensions.tactical.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._funnel_of_fun == 7 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.unit = barrel_extensions.ported.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.third_unit = barrel_extensions.ported.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._funnel_of_fun == 8 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.unit = barrel_extensions.shark_teeth.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.third_unit = barrel_extensions.shark_teeth.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._funnel_of_fun == 9 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.unit = barrel_extensions.kings_crown.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.third_unit = barrel_extensions.kings_crown.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._funnel_of_fun == 10 then
	hide("wpn_fps_upg_ass_ns_linear")
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_linear.adds = { "wpn_fps_upg_ak_bayonet" }
elseif GageUpgradeOptions._opts.GlobalOpt._funnel_of_fun == 11 then
	hide("wpn_fps_upg_ass_ns_linear")
end

--Tactical Compensator
if GageUpgradeOptions._opts.GlobalOpt._tactical_compensator == 2 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.unit = barrel_extensions.stubby.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.third_unit = barrel_extensions.stubby.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._tactical_compensator == 3 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.unit = barrel_extensions.tank.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.third_unit = barrel_extensions.tank.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._tactical_compensator == 4 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.unit = barrel_extensions.fire_breather.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.third_unit = barrel_extensions.fire_breather.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._tactical_compensator == 5 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.unit = barrel_extensions.competitors.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.third_unit = barrel_extensions.competitors.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._tactical_compensator == 6 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.unit = barrel_extensions.funnel_of_fun.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.third_unit = barrel_extensions.funnel_of_fun.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._tactical_compensator == 7 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.unit = barrel_extensions.ported.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.third_unit = barrel_extensions.ported.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._tactical_compensator == 8 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.unit = barrel_extensions.shark_teeth.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.third_unit = barrel_extensions.shark_teeth.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._tactical_compensator == 9 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.unit = barrel_extensions.kings_crown.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.third_unit = barrel_extensions.kings_crown.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._tactical_compensator == 10 then
	hide("wpn_fps_upg_ass_ns_surefire")
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_surefire.adds = { "wpn_fps_upg_ak_bayonet" }
elseif GageUpgradeOptions._opts.GlobalOpt._tactical_compensator == 11 then
	hide("wpn_fps_upg_ass_ns_surefire")
end

--Ported Compensator
if GageUpgradeOptions._opts.GlobalOpt._ported_compensator == 2 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.unit = barrel_extensions.stubby.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.third_unit = barrel_extensions.stubby.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._ported_compensator == 3 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.unit = barrel_extensions.tank.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.third_unit = barrel_extensions.tank.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._ported_compensator == 4 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.unit = barrel_extensions.fire_breather.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.third_unit = barrel_extensions.fire_breather.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._ported_compensator == 5 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.unit = barrel_extensions.competitors.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.third_unit = barrel_extensions.competitors.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._ported_compensator == 6 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.unit = barrel_extensions.funnel_of_fun.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.third_unit = barrel_extensions.funnel_of_fun.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._ported_compensator == 7 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.unit = barrel_extensions.tactical.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.third_unit = barrel_extensions.tactical.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._ported_compensator == 8 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.unit = barrel_extensions.shark_teeth.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.third_unit = barrel_extensions.shark_teeth.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._ported_compensator == 9 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.unit = barrel_extensions.kings_crown.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.third_unit = barrel_extensions.kings_crown.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._ported_compensator == 10 then
	hide("wpn_fps_upg_ass_ns_battle")
	tweak_data.weapon.factory.parts.wpn_fps_upg_ass_ns_battle.adds = { "wpn_fps_upg_ak_bayonet" }
elseif GageUpgradeOptions._opts.GlobalOpt._ported_compensator == 11 then
	hide("wpn_fps_upg_ass_ns_battle")
end

--Shark Teeth Nozzle
if GageUpgradeOptions._opts.GlobalOpt._shark_teeth == 2 then	
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_shot_shark.unit = barrel_extensions.kings_crown.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_shot_shark.third_unit = barrel_extensions.kings_crown.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._shark_teeth == 3 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_shot_shark.unit = barrel_extensions.stubby.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_shot_shark.third_unit = barrel_extensions.stubby.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._shark_teeth == 4 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_shot_shark.unit = barrel_extensions.tank.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_shot_shark.third_unit = barrel_extensions.tank.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._shark_teeth == 5 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_shot_shark.unit = barrel_extensions.fire_breather.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_shot_shark.third_unit = barrel_extensions.fire_breather.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._shark_teeth == 6 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_shot_shark.unit = barrel_extensions.funnel_of_fun.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_shot_shark.third_unit = barrel_extensions.funnel_of_fun.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._shark_teeth == 7 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_shot_shark.unit = barrel_extensions.ported.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_shot_shark.third_unit = barrel_extensions.ported.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._shark_teeth == 8 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_shot_shark.unit = barrel_extensions.hide.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_ns_shot_shark.third_unit = barrel_extensions.hide.third_unit
end

--King's Crown Compensator
if GageUpgradeOptions._opts.GlobalOpt._kings_crown == 2 then	
	tweak_data.weapon.factory.parts.wpn_fps_upg_shot_ns_king.unit = barrel_extensions.shark_teeth.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_shot_ns_king.third_unit = barrel_extensions.shark_teeth.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._kings_crown == 3 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_shot_ns_king.unit = barrel_extensions.stubby.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_shot_ns_king.third_unit = barrel_extensions.stubby.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._kings_crown == 4 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_shot_ns_king.unit = barrel_extensions.tank.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_shot_ns_king.third_unit = barrel_extensions.tank.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._kings_crown == 5 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_shot_ns_king.unit = barrel_extensions.fire_breather.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_shot_ns_king.third_unit = barrel_extensions.fire_breather.third_unit	
elseif GageUpgradeOptions._opts.GlobalOpt._kings_crown == 6 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_shot_ns_king.unit = barrel_extensions.funnel_of_fun.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_shot_ns_king.third_unit = barrel_extensions.funnel_of_fun.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._kings_crown == 7 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_shot_ns_king.unit = barrel_extensions.ported.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_shot_ns_king.third_unit = barrel_extensions.ported.third_unit
elseif GageUpgradeOptions._opts.GlobalOpt._kings_crown == 8 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_shot_ns_king.unit = barrel_extensions.hide.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_shot_ns_king.third_unit = barrel_extensions.hide.third_unit
end

--	TODO: Add more customization for Flash Hider 
--	Flash Hider
if GageUpgradeOptions._opts.GlobalOpt._flash_hider == 2 then
	tweak_data.weapon.factory.parts.wpn_fps_upg_pis_ns_flash.unit = barrel_extensions.hide.unit
	tweak_data.weapon.factory.parts.wpn_fps_upg_pis_ns_flash.third_unit = barrel_extensions.hide.third_unit
end

--Gadgets
local gadgets = {
	peqbox = {		--	Laser	
		unit_name = "wpn_fps_upg_fl_ass_smg_sho_peqbox",
		units = "unit = \"units/payday2/weapons/wpn_fps_upg_fl_ass_smg_sho_peqbox/wpn_fps_upg_fl_ass_smg_sho_peqbox\", third_unit = \"units/payday2/weapons/wpn_third_upg_fl_ass_smg_sho_peqbox/wpn_third_upg_fl_ass_smg_sho_peqbox\","
	},
	surefire = {	--	Flashlight
		unit_name = "wpn_fps_upg_fl_ass_smg_sho_surefire",
		units = "unit = \"units/payday2/weapons/wpn_fps_upg_fl_ass_smg_sho_surefire/wpn_fps_upg_fl_ass_smg_sho_surefire\", third_unit = \"units/payday2/weapons/wpn_third_upg_fl_ass_smg_sho_surefire/wpn_third_upg_fl_ass_smg_sho_surefire\","
	},
	pis_laser = {	--	Laser	
		unit_name = "wpn_fps_upg_fl_pis_laser",
		units = "unit = \"units/payday2/weapons/wpn_third_upg_fl_pis_laser/wpn_third_upg_fl_pis_laser\", third_unit = \"units/payday2/weapons/wpn_third_upg_fl_pis_laser/wpn_third_upg_fl_pis_laser\","
	},
	pis_tlr1 = {	--	TPL
		unit_name = "wpn_fps_upg_fl_pis_tlr1",
		units = "unit = \"units/payday2/weapons/wpn_fps_upg_fl_pis_tlr1/wpn_fps_upg_fl_pis_tlr1\", third_unit = \"units/payday2/weapons/wpn_third_upg_fl_pis_tlr1/wpn_third_upg_fl_pis_tlr1\","
	},
	peq15 = {		--	Combo module( with adds ), without adds laser
		unit_name = "wpn_fps_upg_fl_ass_peq15",
		units = "unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fl_ass_peq15/wpn_fps_upg_fl_ass_peq15\", third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fl_ass_peq15/wpn_third_upg_fl_ass_peq15\","
	},
	ass_laser = {	--	Compact Laser	
		unit_name = "wpn_fps_upg_fl_ass_laser",
		units = "unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fl_ass_laser/wpn_fps_upg_fl_ass_laser\", third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fl_ass_laser/wpn_third_upg_fl_ass_laser\", "
	},
	utg = {			--	Combo module( with adds ), without adds laser
		unit_name = "wpn_fps_upg_fl_ass_utg",
		units = "unit = \"units/pd2_dlc_butcher_mods/weapons/wpn_fps_upg_fl_ass_utg/wpn_fps_upg_fl_ass_utg\", third_unit = \"units/pd2_dlc_butcher_mods/weapons/wpn_third_upg_fl_ass_utg/wpn_third_upg_fl_ass_utg\", "
	},
	pis_crimson = {	--	Compact Laser
		unit_name = "wpn_fps_upg_fl_pis_crimson",
		units = "unit = \"units/pd2_crimefest_2014/oct22/weapons/wpn_fps_upg_fl_pis_crimson/wpn_fps_upg_fl_pis_crimson\", third_unit = \"units/pd2_crimefest_2014/oct22/weapons/wpn_third_upg_fl_pis_crimson/wpn_third_upg_fl_pis_crimson\", "
	},
	pis_x400v = {	--	Combo module( with adds ), without adds laser	
		unit_name = "wpn_fps_upg_fl_pis_x400v",
		units = "unit = \"units/pd2_crimefest_2014/oct22/weapons/wpn_fps_upg_fl_pis_x400v/wpn_fps_upg_fl_pis_x400v\", third_unit = \"units/pd2_crimefest_2014/oct22/weapons/wpn_third_upg_fl_pis_x400v/wpn_third_upg_fl_pis_x400v\","
	},
	pis_m3x = {		--	Flashlight
		unit_name = "wpn_fps_upg_fl_pis_m3x",
		units = "unit = \"units/pd2_dlc_butcher_mods/weapons/wpn_fps_upg_fl_pis_m3x/wpn_fps_upg_fl_pis_m3x\", third_unit = \"units/pd2_dlc_butcher_mods/weapons/wpn_third_upg_fl_pis_m3x/wpn_third_upg_fl_pis_m3x\","
	},
	peq15_flashlight = {--	Flashlight Unit for Combo Modules
		unit_name = "wpn_fps_upg_fl_ass_peq15_flashlight",
		units = "unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fl_ass_peq15/wpn_fps_upg_fl_ass_peq15_flashlight\","
	}
}

-- Gadgets CAR-4 Positions
local car4_gadget_positions = {
	closer = "parent = \"olympic\", override = { wpn_fps_addon_ris = { parent = \"olympic\"},}",
	top = "a_obj = \"a_fl_2\", parent = \"ksg\", forbids = {\"wpn_fps_addon_ris\"},",
	under_closer = "a_obj = \"a_vg\", parent = \"m16\", forbids = {\"wpn_fps_addon_ris\"},",
	under_center = "a_obj = \"a_vg\", forbids = {\"wpn_fps_addon_ris\"},",
	under_far = "a_obj = \"a_bp\", parent = \"m249\", forbids = {\"wpn_fps_addon_ris\"},"
}

--	Stocks
local stocks = {
	standard = {
		unit_name = "wpn_fps_upg_m4_s_standard_vanilla",
		units = "unit = \"units/payday2/weapons/wpn_fps_upg_m4_reusable/wpn_fps_upg_m4_s_standard\", third_unit = \"units/payday2/weapons/wpn_third_upg_m4_reusable/wpn_third_upg_m4_s_standard\", "
	},
	tactical = {
		unit_name = "wpn_fps_upg_m4_s_pts",
		units = "unit = \"units/payday2/weapons/wpn_fps_upg_m4_reusable/wpn_fps_upg_m4_s_pts\",third_unit = \"units/payday2/weapons/wpn_third_upg_m4_reusable/wpn_third_upg_m4_s_pts\", "
	},
	folding = {
		unit_name = "wpn_fps_m4_uupg_s_fold",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_s_fold\",third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_s_fold\", "
	},
	wide = {
		unit_name = "wpn_fps_upg_m4_s_crane",
		units = "unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_m4_s_crane/wpn_fps_upg_m4_s_crane\",third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_m4_s_crane/wpn_third_upg_m4_s_crane\", "
	},
	warTorn = {
		unit_name = "wpn_fps_upg_m4_s_mk46",
		units = "unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_m4_s_mk46/wpn_fps_upg_m4_s_mk46\",third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_m4_s_mk46/wpn_third_upg_m4_s_mk46\", "
	},
	twoPiece = {
		unit_name = "wpn_fps_upg_m4_s_ubr",
		units = "unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_fps_upg_m4_s_ubr/wpn_fps_upg_m4_s_ubr\", third_unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_third_upg_m4_s_ubr/wpn_third_upg_m4_s_ubr\", "
	},
	amr16 = {
		unit_name = "wpn_fps_m16_s_solid_vanilla",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_m16_pts/wpn_fps_m16_s_solid\",third_unit = \"units/payday2/weapons/wpn_third_ass_m16_pts/wpn_third_m16_s_solid\", "
	},
	para = {
		unit_name = "wpn_fps_smg_olympic_s_adjust",
		units = "unit = \"units/payday2/weapons/wpn_fps_smg_olympic_pts/wpn_fps_smg_olympic_s_adjust\",third_unit = \"units/payday2/weapons/wpn_third_smg_olympic_pts/wpn_third_smg_olympic_s_adjust\", "
	},
	paraShort = {
		unit_name = "wpn_fps_smg_olympic_s_short",
		units = "unit = \"units/payday2/weapons/wpn_fps_smg_olympic_pts/wpn_fps_smg_olympic_s_short\",third_unit = \"units/payday2/weapons/wpn_third_smg_olympic_pts/wpn_third_smg_olympic_s_short\", "
	},
	akSideFold = {
		unit_name = "wpn_upg_ak_s_skfoldable",
		units = "unit = \"units/payday2/weapons/wpn_fps_upg_ak_reusable/wpn_upg_ak_s_skfoldable\",third_unit = \"units/payday2/weapons/wpn_third_upg_ak_reusable/wpn_third_upg_ak_s_skfoldable\", "
	},
	akFolding = {
		unit_name = "wpn_upg_ak_s_folding",
		units = "unit = \"units/payday2/weapons/wpn_fps_upg_ak_reusable/wpn_upg_ak_s_folding\",third_unit = \"units/payday2/weapons/wpn_third_upg_ak_reusable/wpn_third_upg_ak_s_folding\", "
	},
	akFoldingGold = {
		unit_name = "wpn_upg_ak_s_folding_vanilla_gold",
		units = "unit = \"units/payday2/weapons/wpn_fps_upg_ak_reusable/wpn_upg_ak_s_folding_gold\",third_unit = \"units/payday2/weapons/wpn_third_upg_ak_reusable/wpn_third_upg_ak_s_folding_gold\", "
	},
	ak5 = {
		unit_name = "wpn_fps_ass_ak5_s_ak5a",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_ak5_pts/wpn_fps_ass_ak5_s_ak5a\",third_unit = \"units/payday2/weapons/wpn_third_ass_ak5_pts/wpn_third_ass_ak5_s_ak5a\", "
	},
	ak5b = {
		unit_name = "wpn_fps_ass_ak5_s_ak5b",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_ak5_pts/wpn_fps_ass_ak5_s_ak5b\",third_unit = \"units/payday2/weapons/wpn_third_ass_ak5_pts/wpn_third_ass_ak5_s_ak5b\", adds = {\"wpn_fps_ass_ak5_s_ak5a\"}, "
	},
	ak5c = {
		unit_name = "wpn_fps_ass_ak5_s_ak5c",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_ak5_pts/wpn_fps_ass_ak5_s_ak5c\",third_unit = \"units/payday2/weapons/wpn_third_ass_ak5_pts/wpn_third_ass_ak5_s_ak5c\", "
	},
	blaster = {
		unit_name = "wpn_fps_smg_tec9_s_unfolded",
		units = "unit = \"units/pd2_dlc_miami/weapons/wpn_fps_smg_tec9_pts/wpn_fps_smg_tec9_s_unfolded\",third_unit = \"units/pd2_dlc_miami/weapons/wpn_third_smg_tec9_pts/wpn_third_smg_tec9_s_unfolded\", "
	},
	cmp = {
		unit_name = "wpn_fps_smg_mp9_s_fold",
		units = "unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_s_fold\",third_unit = \"units/payday2/weapons/wpn_third_smg_mp9_pts/wpn_third_smg_mp9_s_fold\", "
	},
	cmpSkel = {
		unit_name = "wpn_fps_smg_mp9_s_skel",
		units = "unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_s_skel\",third_unit = \"units/payday2/weapons/wpn_third_smg_mp9_pts/wpn_third_smg_mp9_s_skel\", "
	},
	cobra = {
		unit_name = "wpn_fps_smg_scorpion_s_unfolded",
		units = "unit = \"units/pd2_dlc_miami/weapons/wpn_fps_smg_scorpion_pts/wpn_fps_smg_scorpion_s_unfolded\",third_unit = \"units/pd2_dlc_miami/weapons/wpn_third_smg_scorpion/wpn_third_smg_scorpion_s_unfolded\", "
	},
	commando = {
		unit_name = "wpn_fps_ass_s552_s_standard",
		units = "unit = \"units/pd2_dlc1/weapons/wpn_fps_ass_s552_pts/wpn_fps_ass_s552_s_standard\",third_unit = \"units/pd2_dlc1/weapons/wpn_third_ass_s552_pts/wpn_third_ass_s552_s_standard\", "
	},
	commando_green = {
		unit_name = "wpn_fps_ass_s552_s_standard_green",
		units = "unit = \"units/pd2_dlc1/weapons/wpn_fps_ass_s552_pts/wpn_fps_ass_s552_s_standard_green\",third_unit = \"units/pd2_dlc1/weapons/wpn_third_ass_s552_pts/wpn_third_ass_s552_s_standard_green\", "
	},
	mp5noStock = {
		unit_name = "wpn_fps_smg_mp5_s_ring",
		units = "unit = \"units/payday2/weapons/wpn_fps_smg_mp5_pts/wpn_fps_smg_mp5_s_ring\",third_unit = \"units/payday2/weapons/wpn_third_smg_mp5_pts/wpn_third_smg_mp5_s_ring\", "
	},	
	eagle = {
		unit_name = "wpn_fps_ass_scar_s_standard",
		units = "unit = \"units/pd2_dlc_dec5/weapons/wpn_fps_ass_scar_pts/wpn_fps_ass_scar_s_standard\",third_unit = \"units/pd2_dlc_dec5/weapons/wpn_third_ass_scar_pts/wpn_third_ass_scar_s_standard\", "
	},		
	eagleSniper = {
		unit_name = "wpn_fps_ass_scar_s_sniper",
		units = " unit = \"units/pd2_dlc_dec5/weapons/wpn_fps_ass_scar_pts/wpn_fps_ass_scar_s_sniper\",third_unit = \"units/pd2_dlc_dec5/weapons/wpn_third_ass_scar_pts/wpn_third_ass_scar_s_sniper\", "
	},			
	fal = {
		unit_name = "wpn_fps_ass_fal_s_standard",
		units = "unit = \"units/pd2_dlc_big/weapons/wpn_fps_ass_fal_pts/wpn_fps_ass_fal_s_standard\",third_unit = \"units/pd2_dlc_big/weapons/wpn_third_ass_fal_pts/wpn_third_ass_fal_s_standard\", "
	},			
	falCQB = {
		unit_name = "wpn_fps_ass_fal_s_01",
		units = "unit = \"units/pd2_dlc_big/weapons/wpn_fps_ass_fal_pts/wpn_fps_ass_fal_s_01\",third_unit = \"units/pd2_dlc_big/weapons/wpn_third_ass_fal_pts/wpn_third_ass_fal_s_01\", "
	},				
	falMarksman = {
		unit_name = "wpn_fps_ass_fal_s_03",
		units = "unit = \"units/pd2_dlc_big/weapons/wpn_fps_ass_fal_pts/wpn_fps_ass_fal_s_03\",third_unit = \"units/pd2_dlc_big/weapons/wpn_third_ass_fal_pts/wpn_third_ass_fal_s_03\", "
	},				
	falWood = {
		unit_name = "wpn_fps_ass_fal_s_wood",
		units = "unit = \"units/pd2_dlc_big/weapons/wpn_fps_ass_fal_pts/wpn_fps_ass_fal_s_wood\",third_unit = \"units/pd2_dlc_big/weapons/wpn_third_ass_fal_pts/wpn_third_ass_fal_s_wood\", "
	},					
	galil = {
		unit_name = "wpn_fps_ass_galil_s_standard",
		units = "unit = \"units/pd2_dlc_gage_assault/weapons/wpn_fps_ass_galil_pts/wpn_fps_ass_galil_s_standard\",third_unit = \"units/pd2_dlc_gage_assault/weapons/wpn_third_ass_galil_pts/wpn_third_ass_galil_s_standard\", "
	},						
	galilFabulous = {
		unit_name = "wpn_fps_ass_galil_s_fab",
		units = "unit = \"units/pd2_dlc_gage_assault/weapons/wpn_fps_ass_galil_pts/wpn_fps_ass_galil_s_fab\",third_unit = \"units/pd2_dlc_gage_assault/weapons/wpn_third_ass_galil_pts/wpn_third_ass_galil_s_fab\", "
	},						
	galilLight = {
		unit_name = "wpn_fps_ass_galil_s_light",
		units = "unit = \"units/pd2_dlc_gage_assault/weapons/wpn_fps_ass_galil_pts/wpn_fps_ass_galil_s_light\",third_unit = \"units/pd2_dlc_gage_assault/weapons/wpn_third_ass_galil_pts/wpn_third_ass_galil_s_light\", "
	},							
	galilPlastic = {
		unit_name = "wpn_fps_ass_galil_s_plastic",
		units = "unit = \"units/pd2_dlc_gage_assault/weapons/wpn_fps_ass_galil_pts/wpn_fps_ass_galil_s_plastic\",third_unit = \"units/pd2_dlc_gage_assault/weapons/wpn_third_ass_galil_pts/wpn_third_ass_galil_s_plastic\", "
	},							
	galilSkeletal = {
		unit_name = "wpn_fps_ass_galil_s_skeletal",
		units = "unit = \"units/pd2_dlc_gage_assault/weapons/wpn_fps_ass_galil_pts/wpn_fps_ass_galil_s_plastic\",third_unit = \"units/pd2_dlc_gage_assault/weapons/wpn_third_ass_galil_pts/wpn_third_ass_galil_s_plastic\", "
	},		                          
	galilSniper = {
		unit_name = "wpn_fps_ass_galil_s_sniper",
		units = "unit = \"units/pd2_dlc_gage_assault/weapons/wpn_fps_ass_galil_pts/wpn_fps_ass_galil_s_sniper\",third_unit = \"units/pd2_dlc_gage_assault/weapons/wpn_third_ass_galil_pts/wpn_third_ass_galil_s_sniper\", "
	},		                          
	galilWood = {
		unit_name = "wpn_fps_ass_galil_s_wood",
		units = "unit = \"units/pd2_dlc_gage_assault/weapons/wpn_fps_ass_galil_pts/wpn_fps_ass_galil_s_wood\",third_unit = \"units/pd2_dlc_gage_assault/weapons/wpn_third_ass_galil_pts/wpn_third_ass_galil_s_wood\", "
	},		                          
	g36 = {
		unit_name = "wpn_fps_ass_g36_s_standard",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_g36_pts/wpn_fps_ass_g36_s_standard\",third_unit = \"units/payday2/weapons/wpn_third_ass_g36_pts/wpn_third_upg_g36_s_standard\", "
	},		                          
	g36solid = {
		unit_name = "wpn_fps_ass_g36_s_standard",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_g36_pts/wpn_fps_ass_g36_s_kv\",third_unit = \"units/payday2/weapons/wpn_third_ass_g36_pts/wpn_third_upg_g36_s_kv\", "
	},		                          
	mac10 = {
		unit_name = "wpn_fps_smg_mac10_s_fold",
		units = "unit = \"units/payday2/weapons/wpn_fps_smg_mac10_pts/wpn_fps_smg_mac10_s_fold\",third_unit = \"units/payday2/weapons/wpn_third_smg_mac10_pts/wpn_third_smg_mac10_s_fold\", "
	},		                          
	mac10skel = {
		unit_name = "wpn_fps_smg_mac10_s_skel",
		units = "unit = \"units/payday2/weapons/wpn_fps_smg_mac10_pts/wpn_fps_smg_mac10_s_skel\",third_unit = \"units/payday2/weapons/wpn_third_smg_mac10_pts/wpn_third_smg_mac10_s_skel\", "
	},		                          
	reinfeldMuldon = {
		unit_name = "wpn_fps_shot_r870_s_folding",
		units = "unit = \"units/payday2/weapons/wpn_fps_shot_r870_pts/wpn_fps_shot_r870_s_folding\",third_unit = \"units/payday2/weapons/wpn_third_shot_r870_pts/wpn_third_shot_r870_s_folding\", "
	},		                          
	rpk = {
		unit_name = "wpn_fps_lmg_rpk_s_wood",
		units = "unit = \"units/pd2_dlc_gage_lmg/weapons/wpn_fps_lmg_rpk_pts/wpn_fps_lmg_rpk_s_wood\",third_unit = \"units/pd2_dlc_gage_lmg/weapons/wpn_third_lmg_rpk_pts/wpn_third_lmg_rpk_s_wood\", "
	},		                          
	rpkPlastic = {
		unit_name = "wpn_fps_lmg_rpk_s_standard",
		units = "unit = \"units/pd2_dlc_gage_lmg/weapons/wpn_fps_lmg_rpk_pts/wpn_fps_lmg_rpk_s_standard\",third_unit = \"units/pd2_dlc_gage_lmg/weapons/wpn_third_lmg_rpk_pts/wpn_third_lmg_rpk_s_standard\", "
	},		                          
	specOps = {
		unit_name = "wpn_fps_smg_mp7_s_standard",
		units = "unit = \"units/pd2_dlc_dec5/weapons/wpn_fps_smg_mp7_pts/wpn_fps_smg_mp7_s_standard\",third_unit = \"units/pd2_dlc_dec5/weapons/wpn_third_smg_mp7_pts/wpn_third_smg_mp7_s_standard\", "
	},		                          
	specOpsLong = {
		unit_name = "wpn_fps_smg_mp7_s_long",
		units = "unit = \"units/pd2_dlc_dec5/weapons/wpn_fps_smg_mp7_pts/wpn_fps_smg_mp7_s_long\",third_unit = \"units/pd2_dlc_dec5/weapons/wpn_third_smg_mp7_pts/wpn_third_smg_mp7_s_long\", "
	},		                          
	g18c = {
		unit_name = "wpn_fps_pis_g18c_s_stock",
		units = "unit = \"units/payday2/weapons/wpn_fps_pis_g18c_pts/wpn_fps_pis_g18c_s_stock\",third_unit = \"units/payday2/weapons/wpn_third_pis_g18c_pts/wpn_third_pis_g18c_s_stock\", "
	}		
}

--	TODO: Add more grips...
--	Grips
local grips = {
	standardGrip = {
		unit_name = "wpn_fps_upg_m4_g_standard_vanilla",
		units = "unit = \"units/payday2/weapons/wpn_fps_upg_m4_reusable/wpn_fps_upg_m4_g_standard\", third_unit = \"units/payday2/weapons/wpn_third_upg_m4_reusable/wpn_third_upg_m4_g_standard\", ",
	},
	ergoGrip = {
		unit_name = "wpn_fps_upg_m4_g_ergo",
		units = "unit = \"units/payday2/weapons/wpn_fps_upg_m4_reusable/wpn_fps_upg_m4_g_ergo\", third_unit = \"units/payday2/weapons/wpn_third_upg_m4_reusable/wpn_third_upg_m4_g_ergo\", ",
	},
	proGrip = {
		unit_name = "wpn_fps_upg_m4_g_sniper",
		units = "unit = \"units/payday2/weapons/wpn_fps_upg_m4_reusable/wpn_fps_upg_m4_g_sniper\", third_unit = \"units/payday2/weapons/wpn_third_upg_m4_reusable/wpn_third_upg_m4_g_sniper\", ",
	},
	rubberGrip = {
		unit_name = "wpn_fps_upg_m4_g_hgrip",
		units = "unit = \"units/pd2_dlc_dec5/weapons/wpn_fps_upg_m4_g_hgrip/wpn_fps_upg_m4_g_hgrip\", third_unit = \"units/pd2_dlc_dec5/weapons/wpn_third_upg_m4_g_hgrip/wpn_third_upg_m4_g_hgrip\", ",
	},
	straightGrip = {
		unit_name = "wpn_fps_upg_m4_g_mgrip",
		units = "unit = \"units/pd2_dlc_dec5/weapons/wpn_fps_upg_m4_g_mgrip/wpn_fps_upg_m4_g_mgrip\", third_unit = \"units/pd2_dlc_dec5/weapons/wpn_third_upg_m4_g_mgrip/wpn_third_upg_m4_g_mgrip\", ",
	}
}

--	TODO: Add more barrels
--	Barrels
local barrels = {
	short_dummy = {
		unit_name = "wpn_fps_m4_uupg_b_short_dummy",
		units = ""
	},
	medium_barrel_vanilla = {
		unit_name = "wpn_fps_m4_uupg_b_medium_vanilla",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_b_medium\", third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_b_medium\", "
	},
	medium_barrel = {
		unit_name = "wpn_fps_m4_uupg_b_medium",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_b_medium\", third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_b_medium\", "
	},
	short_barrel = {
		unit_name = "wpn_fps_m4_uupg_b_short",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_b_short\", third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_b_short\", "
	},
	long_barrel = {
		unit_name = "wpn_fps_m4_uupg_b_long",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_b_long\", third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_b_long\", "
	},
	dmr_barrel = {
		unit_name = "wpn_fps_upg_ass_m4_b_beowulf",
		units = "unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_fps_upg_ass_m4_b_beowulf/wpn_fps_upg_ass_m4_b_beowulf\", third_unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_third_upg_ass_m4_b_beowulf/wpn_third_upg_ass_m4_b_beowulf\", "
	},
	m95_barrel = {
		unit_name = "wpn_fps_snp_m95_barrel_standard",
		units = "unit = \"units/pd2_dlc_gage_snp/weapons/wpn_fps_snp_m95_pts/wpn_fps_snp_m95_barrel_standard\", third_unit = \"units/pd2_dlc_gage_snp/weapons/wpn_fps_snp_m95_pts/wpn_third_snp_m95_barrel_standard\", "
	},
	m95_cqb = {
		unit_name = "wpn_fps_snp_m95_barrel_short",
		units = "unit = \"units/pd2_dlc_gage_snp/weapons/wpn_fps_snp_m95_pts/wpn_fps_snp_m95_barrel_short\", third_unit = \"units/pd2_dlc_gage_snp/weapons/wpn_fps_snp_m95_pts/wpn_third_snp_m95_barrel_short\", "
	},
	m95_supressed = {
		unit_name = "wpn_fps_snp_m95_barrel_suppressed",
		units = "unit = \"units/pd2_dlc_gage_snp/weapons/wpn_fps_snp_m95_pts/wpn_fps_snp_m95_barrel_suppressed\", third_unit = \"units/pd2_dlc_gage_snp/weapons/wpn_fps_snp_m95_pts/wpn_third_snp_m95_barrel_suppressed\", "
	},
	m95_long = {
		unit_name = "wpn_fps_snp_m95_barrel_long",
		units = "unit = \"units/pd2_dlc_gage_snp/weapons/wpn_fps_snp_m95_pts/wpn_fps_snp_m95_barrel_long\", third_unit = \"units/pd2_dlc_gage_snp/weapons/wpn_fps_snp_m95_pts/wpn_third_snp_m95_barrel_long\", "
	}
}

-- Foregrip
local fg = {
	rail = { 
		unit_name = "wpn_fps_m4_uupg_fg_rail", 
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_fg_rail\", third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_fg_rail\", adds = {\"wpn_fps_m4_uupg_fg_rail_ext\"}",
		override = "wpn_fps_ass_m16_os_frontsight = { parent = \"amcar\"}, wpn_fps_upg_o_dd_rear = {parent = \"L85A2\", a_obj = \"a_o\"},wpn_fps_upg_o_dd_front = {a_obj = \"a_os\", parent = \"foregrip\"},wpn_fps_upg_o_mbus_rear = {parent = \"L85A2\", a_obj = \"a_o\", stats = {value = 1}},wpn_fps_upg_o_mbus_front = {a_obj = \"a_os\", parent = \"foregrip\"}"
	},
	lr300 = { 
		unit_name = "wpn_fps_m4_uupg_fg_lr300", 
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_fg_lr300\", third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_fg_lr300\"",
		override = "wpn_fps_ass_m16_os_frontsight = { a_obj = \"a_ns\", parent = \"extender\"}, wpn_fps_upg_o_dd_rear = {parent = \"L85A2\", a_obj = \"a_o\"}, wpn_fps_upg_o_dd_front = {a_obj = \"a_os\", parent = \"foregrip\"},wpn_fps_upg_o_mbus_rear = {parent = \"L85A2\", a_obj = \"a_o\", stats = {value = 1}},wpn_fps_upg_o_mbus_front = {a_obj = \"a_os\", parent = \"foregrip\"}"
	},
	jp = { 
		unit_name = "wpn_fps_upg_fg_jp", 
		units = "unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fg_jp/wpn_fps_upg_fg_jp\", third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fg_jp/wpn_third_upg_fg_jp\", forbids = { \"wpn_fps_m4_uupg_fg_rail_ext\" }",
		override = "wpn_fps_m4_uupg_b_short_dummy = { unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_b_medium\",third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_b_medium\"},wpn_fps_m4_uupg_b_sd = {adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy = { adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\" }, wpn_fps_m4_uupg_b_sd_dummy_thin = { adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\" }, wpn_fps_m4_uupg_b_medium_vanilla = { parent = \"m16\" },wpn_fps_ass_m16_os_frontsight = { parent = \"m16\" },wpn_fps_upg_o_dd_rear = {parent = \"L85A2\", a_obj = \"a_o\"},wpn_fps_upg_o_dd_front = {a_obj = \"a_fl\", parent = \"g26_dos\"},wpn_fps_upg_o_mbus_rear = {parent = \"L85A2\", a_obj = \"a_o\", stats = {value = 1}},wpn_fps_upg_o_mbus_front = {a_obj = \"a_fl\", parent = \"g26_dos\"}"
	},
	smr = { 
		unit_name = "wpn_fps_upg_fg_smr", 
		units = "unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fg_smr/wpn_fps_upg_fg_smr\", third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fg_smr/wpn_third_upg_fg_smr\", forbids = { \"wpn_fps_m4_uupg_fg_rail_ext\" }",
		override = "wpn_fps_m4_uupg_b_short_dummy = { unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_b_medium\",third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_b_medium\"},wpn_fps_m4_uupg_b_medium_vanilla = { parent = \"m16\" },wpn_fps_ass_m16_os_frontsight = { parent = \"m16\" }, wpn_fps_m4_uupg_b_sd = {unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fg_smr/wpn_fps_m4_upg_b_sd_smr\",third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fg_smr/wpn_third_m4_upg_b_sd_smr\",parent = \"m16\",adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy = {unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fg_smr/wpn_fps_m4_upg_b_sd_smr\",third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fg_smr/wpn_third_m4_upg_b_sd_smr\",parent = \"m16\",adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy_thin = {unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fg_smr/wpn_fps_m4_upg_b_sd_smr\",third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fg_smr/wpn_third_m4_upg_b_sd_smr\",parent = \"m16\",adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_upg_o_dd_rear = {parent = \"L85A2\", a_obj = \"a_o\"},wpn_fps_upg_o_dd_front = {a_obj = \"a_fl\", parent = \"g26_dos\"},wpn_fps_upg_o_mbus_rear = {parent = \"L85A2\", a_obj = \"a_o\", stats = {value = 1}},wpn_fps_upg_o_mbus_front = {a_obj = \"a_fl\", parent = \"g26_dos\"}"
	},
	moe = { 
		unit_name = "wpn_fps_upg_ass_m4_fg_moe", 
		units = "unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_fps_upg_ass_m4_fg_moe/wpn_fps_upg_ass_m4_fg_moe\", third_unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_third_upg_ass_m4_fg_moe/wpn_third_upg_ass_m4_fg_moe\", forbids = { \"wpn_fps_m4_uupg_fg_rail_ext\" }",
		override = "wpn_fps_m4_uupg_b_short_dummy = {parent = \"m16\"}, wpn_fps_ass_m16_os_frontsight = {a_obj = \"a_ns\",parent = \"d_extender\"}, wpn_fps_m4_uupg_b_sd = {adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy = {adds = {\"barrel_extender_jp_smr\"}, a_obj = \"a_ns\", parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy_thin = {adds = {\"barrel_extender_jp_smr\"}, a_obj = \"a_ns\", parent = \"b_extender\"},wpn_fps_upg_o_dd_rear = {parent = \"L85A2\", a_obj = \"a_o\"},wpn_fps_upg_o_dd_front = {a_obj = \"a_os\", parent = \"foregrip\"},wpn_fps_upg_o_mbus_rear = {parent = \"L85A2\", a_obj = \"a_o\", stats = {value = 1}}, wpn_fps_upg_o_mbus_front = {a_obj = \"a_os\", parent = \"foregrip\"}, wpn_fps_m4_uupg_o_flipup = { unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_o_flipup_emo\", third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_o_flipup_emo\"}"
	},
	lvoa = { 
		unit_name = "wpn_fps_upg_ass_m4_fg_lvoa", 
		units = "unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_fps_upg_ass_m4_fg_lvoa/wpn_fps_upg_ass_m4_fg_lvoa\" , third_unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_third_upg_ass_m4_fg_lvoa/wpn_third_upg_ass_m4_fg_lvoa\", forbids = { \"wpn_fps_m4_uupg_fg_rail_ext\" }",
		override = "wpn_fps_m4_uupg_b_short_dummy = {parent = \"m16\"}, wpn_fps_ass_m16_os_frontsight = {a_obj = \"a_ns\",parent = \"d_extender\"}, wpn_fps_m4_uupg_b_sd = {adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy = {adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy_thin = {adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_upg_o_dd_rear = {parent = \"L85A2\", a_obj = \"a_o\"}, wpn_fps_upg_o_dd_front = {a_obj = \"a_os\", parent = \"foregrip\"}, wpn_fps_upg_o_mbus_rear = {parent = \"L85A2\", a_obj = \"a_o\", stats = {value = 1}}, wpn_fps_upg_o_mbus_front = {a_obj = \"a_os\", parent = \"foregrip\"}"
	},
	colt = { 
		unit_name = "wpn_fps_amcar_uupg_fg_amcar", 
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_amcar_pts/wpn_fps_amcar_uupg_fg_amcar\", third_unit = \"units/payday2/weapons/wpn_third_ass_amcar_pts/wpn_third_amcar_uupg_fg_amcar\"",
		override = "wpn_fps_ass_m16_os_frontsight = { parent = \"amcar\"}, wpn_fps_upg_o_dd_rear = {parent = \"L85A2\", a_obj = \"a_o\"},wpn_fps_upg_o_dd_front = {a_obj = \"a_fl\",	parent = \"g26_os\"},wpn_fps_upg_o_mbus_rear = {parent = \"L85A2\", a_obj = \"a_o\", stats = {value = 1}},wpn_fps_upg_o_mbus_front = {a_obj = \"a_fl\",	parent = \"g26_os\"}"
	},
	m16 = { 
		unit_name = "wpn_fps_m16_fg_standard", 
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_m16_pts/wpn_fps_m16_fg_standard\", third_unit = \"units/payday2/weapons/wpn_third_ass_m16_pts/wpn_third_m16_fg_standard\", forbids = { \"wpn_fps_m4_uupg_fg_rail_ext\" }", 
		override = "wpn_fps_m4_uupg_b_short_dummy = { unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_b_medium\",third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_b_medium\"},wpn_fps_m4_uupg_b_medium_vanilla = { parent = \"m16\" },wpn_fps_ass_m16_os_frontsight = { parent = \"m16\" }, wpn_fps_m4_uupg_b_sd = {unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fg_smr/wpn_fps_m4_upg_b_sd_smr\",third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fg_smr/wpn_third_m4_upg_b_sd_smr\",adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy = {unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fg_smr/wpn_fps_m4_upg_b_sd_smr\",third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fg_smr/wpn_third_m4_upg_b_sd_smr\",adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy_thin = {unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fg_smr/wpn_fps_m4_upg_b_sd_smr\",third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fg_smr/wpn_third_m4_upg_b_sd_smr\",adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_upg_o_dd_rear = {parent = \"L85A2\", a_obj = \"a_o\"},wpn_fps_upg_o_dd_front = {a_obj = \"a_fl\", parent = \"g26_dos\"},wpn_fps_upg_o_mbus_rear = {parent = \"L85A2\", a_obj = \"a_o\", stats = {value = 1}},wpn_fps_upg_o_mbus_front = {a_obj = \"a_fl\", parent = \"g26_dos\"}, wpn_fps_m4_uupg_o_flipup = { unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_o_flipup_emo\", third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_o_flipup_emo\"}"
	},
	m16Railed = { 
		unit_name = "wpn_fps_m16_fg_railed",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_m16_pts/wpn_fps_m16_fg_railed\", third_unit = \"units/payday2/weapons/wpn_third_ass_m16_pts/wpn_third_m16_fg_railed\", forbids = { \"wpn_fps_m4_uupg_fg_rail_ext\" }", 
		override = "wpn_fps_m4_uupg_b_short_dummy = { unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_b_medium\",third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_b_medium\"},wpn_fps_m4_uupg_b_medium_vanilla = { parent = \"m16\" },wpn_fps_ass_m16_os_frontsight = { parent = \"m16\" },wpn_fps_m4_uupg_b_sd = { adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy = { adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy_thin = { adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_upg_o_dd_rear = {parent = \"L85A2\", a_obj = \"a_o\"},wpn_fps_upg_o_dd_front = {a_obj = \"a_fl\", parent = \"g26_dos\"},wpn_fps_upg_o_mbus_rear = {parent = \"L85A2\", a_obj = \"a_o\", stats = {value = 1}},wpn_fps_upg_o_mbus_front = {a_obj = \"a_fl\", parent = \"g26_dos\"}"
	},
	m16Vietnam = { 
		unit_name = "wpn_fps_m16_fg_vietnam", 
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_m16_pts/wpn_fps_m16_fg_vietnam\", third_unit = \"units/payday2/weapons/wpn_third_ass_m16_pts/wpn_third_m16_fg_vietnam\", forbids = { \"wpn_fps_m4_uupg_fg_rail_ext\" }",
		override = "wpn_fps_m4_uupg_b_short_dummy = { unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_b_medium\",third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_b_medium\"},wpn_fps_m4_uupg_b_medium_vanilla = { parent = \"m16\" },wpn_fps_ass_m16_os_frontsight = { parent = \"m16\" },wpn_fps_m4_uupg_b_sd = {unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fg_smr/wpn_fps_m4_upg_b_sd_smr\",third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fg_smr/wpn_third_m4_upg_b_sd_smr\",parent = \"m16\",adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy = {unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fg_smr/wpn_fps_m4_upg_b_sd_smr\",third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fg_smr/wpn_third_m4_upg_b_sd_smr\",parent = \"m16\",adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy_thin = {unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fg_smr/wpn_fps_m4_upg_b_sd_smr\",third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fg_smr/wpn_third_m4_upg_b_sd_smr\",parent = \"m16\",adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_upg_o_dd_rear = {parent = \"L85A2\", a_obj = \"a_o\"},wpn_fps_upg_o_dd_front = {a_obj = \"a_fl\", parent = \"g26_dos\"},wpn_fps_upg_o_mbus_rear = {parent = \"L85A2\", a_obj = \"a_o\", stats = {value = 1}},wpn_fps_upg_o_mbus_front = {a_obj = \"a_fl\", parent = \"g26_dos\"}"
	},
	m16Stag = { 
		unit_name = "wpn_fps_upg_ass_m16_fg_stag", 
		units = "unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_fps_upg_ass_m16_fg_stag/wpn_fps_upg_ass_m16_fg_stag\", third_unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_third_upg_ass_m16_fg_stag/wpn_third_upg_ass_m16_fg_stag\", forbids = { \"wpn_fps_m4_uupg_fg_rail_ext\" }",
		override = "wpn_fps_m4_uupg_b_short_dummy = { unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_b_medium\",third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_b_medium\", parent = \"m16\"},wpn_fps_m4_uupg_b_medium_vanilla = { parent = \"m16\" },wpn_fps_ass_m16_os_frontsight = { parent = \"m16\" , a_obj = \"a_os_stag\"},wpn_fps_m4_uupg_b_sd = {unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fg_smr/wpn_fps_m4_upg_b_sd_smr\",third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fg_smr/wpn_third_m4_upg_b_sd_smr\",adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy = {unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fg_smr/wpn_fps_m4_upg_b_sd_smr\",third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fg_smr/wpn_third_m4_upg_b_sd_smr\",adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_m4_uupg_b_sd_dummy_thin = {unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_fg_smr/wpn_fps_m4_upg_b_sd_smr\",third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_fg_smr/wpn_third_m4_upg_b_sd_smr\",adds = {\"barrel_extender_jp_smr\"},a_obj = \"a_ns\",parent = \"b_extender\"}, wpn_fps_upg_o_dd_rear = {parent = \"L85A2\", a_obj = \"a_o\"},wpn_fps_upg_o_dd_front = {a_obj = \"a_fl\", parent = \"g26_dos\"},wpn_fps_upg_o_mbus_rear = {parent = \"L85A2\", a_obj = \"a_o\", stats = {value = 1}},wpn_fps_upg_o_mbus_front = {a_obj = \"a_fl\", parent = \"g26_dos\"}"
	}
}

--	Sights
local sight = {
	m16 = "wpn_fps_m4_uupg_o_flipup = { unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy\", third_unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy\", adds = {\"wpn_fps_ass_m16_os_frontsight\",\"wpn_fps_ass_m16_o_handle_sight_m4\",\"stance_ext\"} }, stance_ext={ stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.044827, 4.000245, -0.500169)}}}",
	ksgFs = "wpn_fps_m4_uupg_o_flipup = { unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy\", third_unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy\", adds = {\"wpn_fps_ass_m16_os_frontsight\", \"wpn_fps_upg_o_dd_rear\", \"stance_ext\"}, forbids = {\"wpn_fps_upg_o_dd_front\"} }, stance_ext={ stance_mod = { wpn_fps_ass_m4 = {translation = Vector3(-0.044827, 6.47306, 0.25)}}}",
	mbusFs = "wpn_fps_m4_uupg_o_flipup = { unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy\", third_unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy\", adds = {\"wpn_fps_ass_m16_os_frontsight\", \"wpn_fps_upg_o_mbus_rear\", \"stance_ext\"}, forbids = {\"wpn_fps_upg_o_mbus_front\"} }, stance_ext={ stance_mod = { wpn_fps_ass_m4 = {translation = Vector3(-0.044827, 6.47306, 0.25)}}}",
	ksg = "wpn_fps_m4_uupg_o_flipup = { unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy\", third_unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy\", adds = {\"wpn_fps_upg_o_dd_rear\", \"stance_ext\"} }, stance_ext={ stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.044827, 6.47306, 0.528112)}}}",
	mbus = "wpn_fps_m4_uupg_o_flipup = { unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy\", third_unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy\", adds = {\"wpn_fps_upg_o_mbus_rear\", \"stance_ext\"} }, stance_ext={ stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.044827, 6.47306, 0.528112)}}}",
	noSight = "wpn_fps_m4_uupg_o_flipup = { unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy\", third_unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy\", adds = { \"stance_ext\"} }, stance_ext = { stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(0, 0, 0)}}}"		
}

--	Optic Gadgets
local opticGadgets = {
	frontSight = "wpn_fps_upg_o_specter = { adds = {\"wpn_fps_ass_m16_os_frontsight\"}, forbids = {} }, wpn_fps_upg_o_aimpoint = { adds = {\"wpn_fps_ass_m16_os_frontsight\"}, forbids = {} }, wpn_fps_upg_o_aimpoint_2 = { adds = {\"wpn_fps_ass_m16_os_frontsight\"}, forbids = {} }, wpn_fps_upg_o_docter = { adds = {\"wpn_fps_ass_m16_os_frontsight\"}, forbids = {} }, wpn_fps_upg_o_eotech = { adds = {\"wpn_fps_ass_m16_os_frontsight\"}, forbids = {} }, wpn_fps_upg_o_t1micro = { adds = {\"wpn_fps_ass_m16_os_frontsight\"}, forbids = {} }, wpn_fps_upg_o_cmore = { adds = {\"wpn_fps_ass_m16_os_frontsight\"}, forbids = {} }, wpn_fps_upg_o_acog = { adds = {\"wpn_fps_ass_m16_os_frontsight\"}, forbids = {} }, wpn_fps_upg_o_cs = { adds = {\"wpn_fps_ass_m16_os_frontsight\"}, forbids = {} }, wpn_fps_upg_o_eotech_xps = { adds = {\"wpn_fps_ass_m16_os_frontsight\"}, forbids = {} }, wpn_fps_upg_o_reflex = { adds = {\"wpn_fps_ass_m16_os_frontsight\"}, forbids = {} }, wpn_fps_upg_o_rx01 = { adds = {\"wpn_fps_ass_m16_os_frontsight\"}, forbids = {} }, wpn_fps_upg_o_rx30 = { adds = {\"wpn_fps_ass_m16_os_frontsight\"}, forbids = {}}",
	carryHandle = "wpn_fps_upg_o_specter = { parent = \"famas\", a_obj = \"a_sight\", adds = {\"wpn_fps_ass_m16_o_handle_sight_m4\", \"wpn_fps_ass_m16_os_frontsight\"}, stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.02, 4.5, -4.03) } }, forbids = {} }, wpn_fps_upg_o_aimpoint = { parent = \"famas\", a_obj = \"a_sight\", adds = {\"wpn_fps_ass_m16_o_handle_sight_m4\", \"wpn_fps_ass_m16_os_frontsight\"}, stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.02, 4.5, -4.03) } }, forbids = {} }, wpn_fps_upg_o_aimpoint_2 = { parent = \"famas\", a_obj = \"a_sight\", adds = {\"wpn_fps_ass_m16_o_handle_sight_m4\", \"wpn_fps_ass_m16_os_frontsight\" }, stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.02, 4.5, -4.03) } }, forbids = {} }, wpn_fps_upg_o_docter = { parent = \"famas\", a_obj = \"a_sight\", adds = {\"wpn_fps_ass_m16_o_handle_sight_m4\", \"wpn_fps_ass_m16_os_frontsight\"}, stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.02, 4.5, -4.03) } }, forbids = {} }, wpn_fps_upg_o_eotech = { parent = \"famas\", a_obj = \"a_sight\", adds = {\"wpn_fps_ass_m16_o_handle_sight_m4\", \"wpn_fps_ass_m16_os_frontsight\", \"wpn_fps_ass_carry_o_rail\"}, stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.02, 4.5, -4.03) } }, forbids = {} }, wpn_fps_upg_o_t1micro = { parent = \"famas\", a_obj = \"a_sight\", adds = {\"wpn_fps_ass_m16_o_handle_sight_m4\", \"wpn_fps_ass_m16_os_frontsight\"}, stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.02, 3.5, -4.03) } }, forbids = {} }, wpn_fps_upg_o_cmore = { parent = \"famas\", a_obj = \"a_sight\", adds = {\"wpn_fps_ass_m16_o_handle_sight_m4\", \"wpn_fps_ass_m16_os_frontsight\", \"wpn_fps_ass_carry_o_rail\"}, stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.02, 4.5, -4.03) } }, forbids = {} }, wpn_fps_upg_o_acog = { parent = \"famas\", a_obj = \"a_sight\", adds = {\"wpn_fps_ass_m16_o_handle_sight_m4\", \"wpn_fps_ass_m16_os_frontsight\" }, stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.02, 7.5, -4.03) } }, forbids = {} }, wpn_fps_upg_o_cs = { parent = \"famas\", a_obj = \"a_sight\", adds = {\"wpn_fps_ass_m16_o_handle_sight_m4\", \"wpn_fps_ass_m16_os_frontsight\"}, stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.02, 4.5, -4.03) } }, forbids = {} }, wpn_fps_upg_o_eotech_xps = { parent = \"famas\", a_obj = \"a_sight\", adds = {\"wpn_fps_ass_m16_o_handle_sight_m4\", \"wpn_fps_ass_m16_os_frontsight\"}, stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.02, 4.5, -4.03) } }, forbids = {} }, wpn_fps_upg_o_reflex = { parent = \"famas\", a_obj = \"a_sight\", adds = {\"wpn_fps_ass_m16_o_handle_sight_m4\", \"wpn_fps_ass_m16_os_frontsight\"}, stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.02, 4.5, -4.03) } }, forbids = {} }, wpn_fps_upg_o_rx01 = { parent = \"famas\", a_obj = \"a_sight\", adds = {\"wpn_fps_ass_m16_o_handle_sight_m4\", \"wpn_fps_ass_m16_os_frontsight\", \"wpn_fps_ass_carry_o_rail\"}, stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.02, 4.5, -4.03) } }, forbids = {} }, wpn_fps_upg_o_rx30 = { parent = \"famas\", a_obj = \"a_sight\", adds = {\"wpn_fps_ass_m16_o_handle_sight_m4\", \"wpn_fps_ass_m16_os_frontsight\", \"wpn_fps_ass_carry_o_rail\"}, stance_mod = { wpn_fps_ass_m4 = { translation = Vector3(-0.02, 5.5, -4.03) } }, forbids = {} }",
	ksgFront = "wpn_fps_upg_o_specter = { adds = {\"wpn_fps_upg_o_dd_front\"}, forbids = {} }, wpn_fps_upg_o_aimpoint = { adds = {\"wpn_fps_upg_o_dd_front\"}, forbids = {} }, wpn_fps_upg_o_aimpoint_2 = { adds = {\"wpn_fps_upg_o_dd_front\"}, forbids = {} }, wpn_fps_upg_o_docter = { adds = {\"wpn_fps_upg_o_dd_front\"}, forbids = {} }, wpn_fps_upg_o_eotech = { adds = {\"wpn_fps_upg_o_dd_front\"}, forbids = {} }, wpn_fps_upg_o_t1micro = { adds = {\"wpn_fps_upg_o_dd_front\"}, forbids = {} }, wpn_fps_upg_o_cmore = { adds = {\"wpn_fps_upg_o_dd_front\"}, forbids = {} }, wpn_fps_upg_o_acog = { adds = {\"wpn_fps_upg_o_dd_front\"}, forbids = {} }, wpn_fps_upg_o_cs = { adds = {\"wpn_fps_upg_o_dd_front\"}, forbids = {} }, wpn_fps_upg_o_eotech_xps = { adds = {\"wpn_fps_upg_o_dd_front\"}, forbids = {} }, wpn_fps_upg_o_reflex = { adds = {\"wpn_fps_upg_o_dd_front\"}, forbids = {} }, wpn_fps_upg_o_rx01 = { adds = {\"wpn_fps_upg_o_dd_front\"}, forbids = {} }, wpn_fps_upg_o_rx30 = { adds = {\"wpn_fps_upg_o_dd_front\"}, forbids = {} }",
	mbusFront = "wpn_fps_upg_o_specter = { adds = {\"wpn_fps_upg_o_mbus_front\"}, forbids = {} }, wpn_fps_upg_o_aimpoint = { adds = {\"wpn_fps_upg_o_mbus_front\"}, forbids = {} }, wpn_fps_upg_o_aimpoint_2 = { adds = {\"wpn_fps_upg_o_mbus_front\"}, forbids = {} }, wpn_fps_upg_o_docter = { adds = {\"wpn_fps_upg_o_mbus_front\"}, forbids = {} }, wpn_fps_upg_o_eotech = { adds = {\"wpn_fps_upg_o_mbus_front\"}, forbids = {} }, wpn_fps_upg_o_t1micro = { adds = {\"wpn_fps_upg_o_mbus_front\"}, forbids = {} }, wpn_fps_upg_o_cmore = { adds = {\"wpn_fps_upg_o_mbus_front\"}, forbids = {} }, wpn_fps_upg_o_acog = { adds = {\"wpn_fps_upg_o_mbus_front\"}, forbids = {} }, wpn_fps_upg_o_cs = { adds = {\"wpn_fps_upg_o_mbus_front\"}, forbids = {} }, wpn_fps_upg_o_eotech_xps = { adds = {\"wpn_fps_upg_o_mbus_front\"}, forbids = {} }, wpn_fps_upg_o_reflex = { adds = {\"wpn_fps_upg_o_mbus_front\"}, forbids = {} }, wpn_fps_upg_o_rx01 = { adds = {\"wpn_fps_upg_o_mbus_front\"}, forbids = {} }, wpn_fps_upg_o_rx30 = { adds = {\"wpn_fps_upg_o_mbus_front\"}, forbids = {} }"
}

--	Mags
local mags = {
	std_m = {
		unit_name = "wpn_fps_m4_uupg_m_std_vanilla",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_m_std\", third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_m_std\", bullet_objects = {prefix = \"g_bullet_\", amount = 2},"
	},
	drum_m = {
		unit_name = "wpn_fps_upg_m4_m_drum",
		units = "unit = \"units/payday2/weapons/wpn_fps_upg_m4_reusable/wpn_fps_upg_m4_m_drum\", third_unit = \"units/payday2/weapons/wpn_third_upg_m4_reusable/wpn_third_upg_m4_m_drum\", "
	},
	pmag = {
		unit_name = "wpn_fps_upg_m4_m_pmag",
		units = "unit = \"units/payday2/weapons/wpn_fps_upg_m4_reusable/wpn_fps_upg_m4_m_pmag\", third_unit = \"units/payday2/weapons/wpn_third_upg_m4_reusable/wpn_third_upg_m4_m_pmag\", bullet_objects = {prefix = \"g_bullet_\", amount = 28},"
	},
	straight_m = {
		unit_name = "wpn_fps_upg_m4_m_straight",
		units = "unit = \"units/payday2/weapons/wpn_fps_upg_m4_reusable/wpn_fps_upg_m4_m_straight\", third_unit = \"units/payday2/weapons/wpn_third_upg_m4_reusable/wpn_third_upg_m4_m_straight\", bullet_objects = {prefix = \"g_bullet_\", amount = 2}, "
	},
	quad_m = {
		unit_name = "wpn_fps_upg_m4_m_quad",
		units = "texture_bundle_folder = \"gage_pack_jobs\", bullet_objects = {prefix = \"g_bullet_\", amount = 1}, texture_bundle_folder = \"gage_pack_jobs\",	unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_fps_upg_m4_m_quad/wpn_fps_upg_m4_m_quad\", third_unit = \"units/pd2_dlc_gage_jobs/weapons/wpn_third_upg_m4_m_quad/wpn_third_upg_m4_m_quad\", "
	},
	l85a2_m = {
		unit_name = "wpn_fps_ass_l85a2_m_emag",
		units = "unit = \"units/pd2_dlc_clover/weapons/wpn_fps_ass_l85a2_pts/wpn_fps_ass_l85a2_m_emag\", third_unit = \"units/pd2_dlc_clover/weapons/wpn_third_ass_l85a2_pts/wpn_third_ass_l85a2_m_emag\", bullet_objects = {prefix = \"g_bullet_\", amount = 28}, texture_bundle_folder = \"character_pack_clover\", "
	},
	l5_m = {
		unit_name = "wpn_fps_upg_m4_m_l5",
		units = "bullet_objects = {prefix = \"g_bullet_\", amount = 2},	unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_fps_upg_m4_m_l5/wpn_fps_upg_m4_m_l5\", third_unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_third_upg_m4_m_l5/wpn_third_upg_m4_m_l5\", texture_bundle_folder = \"dlc_akm4\", "
	},
	aug_m = {
		unit_name = "wpn_fps_aug_m_pmag",
		units = "bullet_objects = {prefix = \"g_bullet_\", amount = 21}, unit = \"units/payday2/weapons/wpn_fps_ass_aug_pts/wpn_fps_aug_m_pmag\", third_unit = \"units/payday2/weapons/wpn_third_ass_aug_pts/wpn_third_aug_m_pmag\",",
	}
}

--	Upper Receivers
local upperReceivers = {
	round = {
		unit_name = "wpn_fps_m4_upper_reciever_round",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_upper_reciever_round\", third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_upper_reciever_round\", "
	},
	edge = {
		unit_name = "wpn_fps_m4_upper_reciever_edge",
		units = "unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_upper_reciever_edge\", third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_upper_reciever_edge\", "
	},
	ballos = {
		unit_name = "wpn_fps_upg_ass_m4_upper_reciever_ballos",
		units = "unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_fps_upg_ass_m4_upper_reciever_ballos/wpn_fps_upg_ass_m4_upper_reciever_ballos\", third_unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_third_upg_ass_m4_upper_reciever_ballos/wpn_third_upg_ass_m4_upper_reciever_ballos\", "
	},
	core = {
		unit_name = "wpn_fps_upg_ass_m4_upper_reciever_core",
		units = "unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_fps_upg_ass_m4_upper_reciever_core/wpn_fps_upg_ass_m4_upper_reciever_core\", third_unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_third_upg_ass_m4_upper_reciever_core/wpn_third_upg_ass_m4_upper_reciever_core\", "
	}
}

--	Drag Handle
local dragHandle = {
	std = "override = { wpn_fps_m4_uupg_draghandle = { unit = \"units/payday2/weapons/wpn_fps_ass_m4_pts/wpn_fps_m4_uupg_draghandle\", third_unit = \"units/payday2/weapons/wpn_third_ass_m4_pts/wpn_third_m4_uupg_draghandle\"}}, ",
	ballos = "override = { wpn_fps_m4_uupg_draghandle = { unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_fps_m4_uupg_draghandle_ballos/wpn_fps_m4_uupg_draghandle_ballos\", third_unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_third_m4_uupg_draghandle_ballos/wpn_third_m4_uupg_draghandle_ballos\" }}, ",
	core = "override = { wpn_fps_m4_uupg_draghandle = { unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_fps_m4_uupg_draghandle_core/wpn_fps_m4_uupg_draghandle_core\", third_unit = \"units/pd2_dlc_akm4_modpack/weapons/wpn_third_m4_uupg_draghandle_core/wpn_third_m4_uupg_draghandle_core\" }}, "
}	

--	Mag Animation fix
local animFix = {
	m4 = {
		unit_fix = "",
		override = "",
	},
	amcar = {
		unit_fix = "amcar_unit = { animations = {reload = \"reload\",	reload_not_empty = \"reload_not_empty\"}}, wpn_fps_m4_uupg_draghandle = {parent = \"amcar\"}, ", 
		override = "amcar"			
	},
	m16 = {
		unit_fix = "m16_unit = { animations = {reload = \"reload\",	reload_not_empty = \"reload_not_empty\"}}, wpn_fps_m4_uupg_draghandle = {parent = \"m16\"}, ", 
		override = "m16"
	},
	olympic = {
		unit_fix = "olympic_unit = { animations = {reload = \"reload\",	reload_not_empty = \"reload_not_empty\"}}, wpn_fps_m4_uupg_draghandle = {parent = \"olympic\"}, ", 
		override = "olympic"	
	}
}

--	Vertical Grips 
local vg = {
	ass_vg = "\"wpn_fps_upg_vg_ass_smg_verticalgrip\"",
	smg_vg = "\"wpn_fps_upg_vg_ass_smg_stubby\"",
	afg_vg = "\"wpn_fps_upg_vg_ass_smg_afg\""
}

local car4_override = "tweak_data.weapon.factory.wpn_fps_ass_m4.override = { wpn_fps_m4_lower_reciever = { adds = { \"L85A2_unit\" }}, wpn_fps_upg_ass_m4_lower_reciever_core = { adds = { \"L85A2_unit\" }}, wpn_fps_upg_bp_lmg_lionbipod = { parent = \"m249\"},  wpn_fps_upg_vg_ass_smg_afg = { parent = \"m16\" }, wpn_fps_m4_uupg_b_short = { unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy\", third_unit = \"units/payday2/weapons/wpn_fps_smg_mp9_pts/wpn_fps_smg_mp9_b_dummy\", adds = { \"wpn_fps_m4_uupg_b_short_dummy\" } }," 

--	Animation Fix
local anim_val = GageUpgradeOptions._opts.CAR4.animation_car_4 or 1
if anim_val ~= 1 then	
	car4_override = car4_override .. animFix[anims.m4_anims[anim_val]].unit_fix
end

-- Override Upper Receiver and Drag Handle
local upper_rec = ""

--	Round
if anim_val ~= 1 then	
	upper_rec = upperReceivers.round.unit_name .. " = { parent = \""..animFix[anims.m4_anims[anim_val]].override.."\","
else
	upper_rec = upperReceivers.round.unit_name .. " = {"
end

if GageUpgradeOptions._opts.CAR4.Receivers._round_receiver_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Receivers._round_dh_car4 ~= 1 then	
	--  Upper Receiver
	if GageUpgradeOptions._opts.CAR4.Receivers._round_receiver_car4 == 2 then
		upper_rec = upper_rec .. upperReceivers.edge.units
	elseif GageUpgradeOptions._opts.CAR4.Receivers._round_receiver_car4 == 3 then
		upper_rec = upper_rec .. upperReceivers.ballos.units
	elseif GageUpgradeOptions._opts.CAR4.Receivers._round_receiver_car4 == 4 then
		upper_rec = upper_rec .. upperReceivers.core.units
	end
	--  Drag Handle
	if GageUpgradeOptions._opts.CAR4.Receivers._round_dh_car4 == 2 then
		upper_rec = upper_rec .. dragHandle.ballos
	elseif GageUpgradeOptions._opts.CAR4.Receivers._round_dh_car4 == 3 then
		upper_rec = upper_rec .. dragHandle.core
	end
end	
car4_override = car4_override .. upper_rec .. "},"

--	Edge Upper Receiver
if anim_val ~= 1 then	
	upper_rec = upperReceivers.edge.unit_name .. " = { parent = \""..animFix[anims.m4_anims[anim_val]].override.."\","
else
	upper_rec = upperReceivers.round.unit_name .. " = {"
end

if GageUpgradeOptions._opts.CAR4.Receivers._edge_receiver_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Receivers._edge_dh_car4 ~= 1 then
    --  Upper Receiver
	if GageUpgradeOptions._opts.CAR4.Receivers._edge_receiver_car4 == 2 then
		upper_rec = upper_rec .. upperReceivers.roundunits
	elseif GageUpgradeOptions._opts.CAR4.Receivers._edge_receiver_car4 == 3 then
		upper_rec = upper_rec .. upperReceivers.ballos.units
	elseif GageUpgradeOptions._opts.CAR4.Receivers._edge_receiver_car4 == 4 then
		upper_rec = upper_rec .. upperReceivers.core.units
	end
	--  Drag Handle
	if GageUpgradeOptions._opts.CAR4.Receivers._edge_dh_car4 == 2 then
		upper_rec = upper_rec .. dragHandle.ballos
	elseif GageUpgradeOptions._opts.CAR4.Receivers._edge_dh_car4 == 3 then
		upper_rec = upper_rec .. dragHandle.core
	end
end	

car4_override = car4_override .. upper_rec .. "},"

-- Ballos Upper Receiver
if anim_val ~= 1 then	
	upper_rec = upperReceivers.ballos.unit_name .. " = { parent = \""..animFix[anims.m4_anims[anim_val]].override.."\", animations = {reload = \"reload\"},"
else
	upper_rec = upperReceivers.ballos.unit_name .. " = {"
end

if GageUpgradeOptions._opts.CAR4.Receivers._ballos_receiver_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Receivers._ballos_dh_car4 ~= 1 then
	--  Upper Receiver
	if GageUpgradeOptions._opts.CAR4.Receivers._ballos_receiver_car4 == 2 then
		upper_rec = upper_rec .. upperReceivers.round.units
	elseif GageUpgradeOptions._opts.CAR4.Receivers._ballos_receiver_car4 == 3 then
		upper_rec = upper_rec .. upperReceivers.edge.units
	elseif GageUpgradeOptions._opts.CAR4.Receivers._ballos_receiver_car4 == 4 then
		upper_rec = upper_rec .. upperReceivers.core.units
	end
	--  Drag Handle
	if GageUpgradeOptions._opts.CAR4.Receivers._ballos_dh_car4 == 2 then
		upper_rec = upper_rec .. dragHandle.std
	elseif GageUpgradeOptions._opts.CAR4.Receivers._ballos_dh_car4 == 3 then
		upper_rec = upper_rec .. dragHandle.core
	end		
end
car4_override = car4_override .. upper_rec .. "},"

-- Core Upper Receiver
if anim_val ~= 1 then	
	upper_rec = upperReceivers.core.unit_name .. " = { parent = \""..animFix[anims.m4_anims[anim_val]].override.."\", animations = {reload = \"reload\"}, "
else
	upper_rec = upperReceivers.round.unit_name .. " = {"
end

if GageUpgradeOptions._opts.CAR4.Receivers._core_receiver_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Receivers._core_dh_car4 ~= 1 then	
	--  Upper Receiver
	if GageUpgradeOptions._opts.CAR4.Receivers._core_receiver_car4 == 2 then
		upper_rec = upper_rec .. upperReceivers.round.units
	elseif GageUpgradeOptions._opts.CAR4.Receivers._core_receiver_car4 == 3 then
		upper_rec = upper_rec .. upperReceivers.edge.units
	elseif GageUpgradeOptions._opts.CAR4.Receivers._core_receiver_car4 == 4 then
		upper_rec = upper_rec .. upperReceivers.ballos.units 
	end
	--  Drag Handle
	if GageUpgradeOptions._opts.CAR4.Receivers._core_dh_car4 == 2 then
		upper_rec = upper_rec .. dragHandle.std
	elseif GageUpgradeOptions._opts.CAR4.Receivers._core_dh_car4 == 3 then
		upper_rec = upper_rec .. dragHandle.ballos
	end
end				
car4_override = car4_override .. upper_rec .. "},"
	
--	Override Magazine:
-- 	Standart mag
local mag_override = ""

if anim_val ~= 1 then	
	mag_override =  mags.std_m.unit_name .. "= { parent = \"".. animFix[anims.m4_anims[anim_val]].override .. "\", "
else
	mag_override =  mags.std_m.unit_name .. "= { "
end

if GageUpgradeOptions._opts.CAR4.Mags._std_m_car4 == 2 then
	mag_override = mag_override .. mags.drum_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._std_m_car4 == 3 then
	mag_override = mag_override .. mags.pmag.units
elseif GageUpgradeOptions._opts.CAR4.Mags._std_m_car4 == 4 then
	mag_override = mag_override .. mags.straight_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._std_m_car4 == 5 then
	mag_override = mag_override .. mags.quad_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._std_m_car4 == 6 then
	mag_override = mag_override .. mags.l85a2_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._std_m_car4 == 7 then
	mag_override = mag_override .. mags.l5_m.units 
elseif GageUpgradeOptions._opts.CAR4.Mags._std_m_car4 == 8 then
	mag_override = mag_override .. mags.aug_m.units
end

--	PMAG
if anim_val ~= 1 then	
	mag_override = mag_override .. "}," .. mags.pmag.unit_name .. "= { parent = \"".. animFix[anims.m4_anims[anim_val]].override .. "\", "
else
	mag_override =  mag_override .. "}," .. mags.pmag.unit_name .. "= { "
end

if GageUpgradeOptions._opts.CAR4.Mags._pmag_car4 == 2 then
	mag_override = mag_override .. mags.std_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._pmag_car4 == 3 then
	mag_override = mag_override .. mags.drum_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._pmag_car4 == 4 then
	mag_override = mag_override .. mags.straight_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._pmag_car4 == 5 then
	mag_override = mag_override .. mags.quad_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._pmag_car4 == 6 then
	mag_override = mag_override .. mags.l85a2_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._pmag_car4 == 7 then
	mag_override = mag_override .. mags.l5_m.units 
elseif GageUpgradeOptions._opts.CAR4.Mags._pmag_car4 == 8 then
	mag_override = mag_override .. mags.aug_m.units
end

--	Straight Mag
if anim_val ~= 1 then	
	mag_override = mag_override .. "}," .. mags.straight_m.unit_name .. "= { parent = \"".. animFix[anims.m4_anims[anim_val]].override .. "\", "
else
	mag_override =  mag_override .. "}," .. mags.straight_m.unit_name .. "= { "
end

if GageUpgradeOptions._opts.CAR4.Mags._straight_m_car4 == 2 then
	mag_override = mag_override .. mags.std_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._straight_m_car4 == 3 then
	mag_override = mag_override .. mags.drum_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._straight_m_car4 == 4 then
	mag_override = mag_override .. mags.pmag.units
elseif GageUpgradeOptions._opts.CAR4.Mags._straight_m_car4 == 5 then
	mag_override = mag_override .. mags.quad_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._straight_m_car4 == 6 then
	mag_override = mag_override .. mags.l85a2_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._straight_m_car4 == 7 then
	mag_override = mag_override .. mags.l5_m.units 
elseif GageUpgradeOptions._opts.CAR4.Mags._straight_m_car4 == 8 then
	mag_override = mag_override .. mags.aug_m.units
end

--	Quad Mag	
if anim_val ~= 1 then	
	mag_override = mag_override .. "}," .. mags.quad_m.unit_name .. "= { parent = \"".. animFix[anims.m4_anims[anim_val]].override .. "\", "
else
	mag_override =  mag_override .. "}," .. mags.quad_m.unit_name .. "= { "
end

if GageUpgradeOptions._opts.CAR4.Mags._quad_m_car4 == 2 then
	mag_override = mag_override .. mags.std_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._quad_m_car4 == 3 then
	mag_override = mag_override .. mags.drum_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._quad_m_car4 == 4 then
	mag_override = mag_override .. mags.pmag.units
elseif GageUpgradeOptions._opts.CAR4.Mags._quad_m_car4 == 5 then
	mag_override = mag_override .. mags.straight_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._quad_m_car4 == 6 then
	mag_override = mag_override .. mags.l85a2_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._quad_m_car4 == 7 then
	mag_override = mag_override .. mags.l5_m.units 
elseif GageUpgradeOptions._opts.CAR4.Mags._quad_m_car4 == 8 then
	mag_override = mag_override .. mags.aug_m.units
end

--	L85A2 Mag
if anim_val ~= 1 then	
	mag_override = mag_override .. "}," .. mags.l85a2_m.unit_name .. "= { parent = \"".. animFix[anims.m4_anims[anim_val]].override .. "\", "
else
	mag_override =  mag_override .. "}," .. mags.l85a2_m.unit_name .. "= { "
end

if GageUpgradeOptions._opts.CAR4.Mags._l85a2_m_car4 == 2 then
	mag_override = mag_override .. mags.std_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._l85a2_m_car4 == 3 then
	mag_override = mag_override .. mags.drum_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._l85a2_m_car4 == 4 then
	mag_override = mag_override .. mags.pmag.units
elseif GageUpgradeOptions._opts.CAR4.Mags._l85a2_m_car4 == 5 then
	mag_override = mag_override .. mags.straight_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._l85a2_m_car4 == 6 then
	mag_override = mag_override .. mags.quad_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._l85a2_m_car4 == 7 then
	mag_override = mag_override .. mags.l5_m.units 
elseif GageUpgradeOptions._opts.CAR4.Mags._l85a2_m_car4 == 8 then
	mag_override = mag_override .. mags.aug_m.units
end

--L5 Mag
if anim_val ~= 1 then	
	mag_override = mag_override .. "}," .. mags.l5_m.unit_name .. "= { parent = \"".. animFix[anims.m4_anims[anim_val]].override .. "\", "
else
	mag_override =  mag_override .. "}," .. mags.l5_m.unit_name .. "= { "
end

if GageUpgradeOptions._opts.CAR4.Mags._l5_m_car4 == 2 then
	mag_override = mag_override .. mags.std_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._l5_m_car4 == 3 then
	mag_override = mag_override .. mags.drum_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._l5_m_car4 == 4 then
	mag_override = mag_override .. mags.pmag.units
elseif GageUpgradeOptions._opts.CAR4.Mags._l5_m_car4 == 5 then
	mag_override = mag_override .. mags.straight_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._l5_m_car4 == 6 then
	mag_override = mag_override .. mags.quad_m.units
elseif GageUpgradeOptions._opts.CAR4.Mags._l5_m_car4 == 7 then
	mag_override = mag_override .. mags.l85a2_m.units 
elseif GageUpgradeOptions._opts.CAR4.Mags._l5_m_car4 == 8 then
	mag_override = mag_override .. mags.aug_m.units
end

car4_override = car4_override .. mag_override .. "},"

--	Override Rail Foregrip:
--		- Foregrip Unit;
--		- Iron Sights;
--		- Optic gadget;
--		- Vertical Grip;

local over_fg_sights = ""			-- stored data for attachments
local override = "override = {"		-- stored data for fg override
local over_fg = ""					-- stored fg data	

if GageUpgradeOptions._opts.CAR4.Foregrips._rail_foregrip_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._sight_rail_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_rail_car_4 ~= 1 then	
	over_fg = fg.rail.unit_name .. " = {"
	over_fg_sights = fg.rail.override	
			
	if GageUpgradeOptions._opts.CAR4.Foregrips._rail_foregrip_car4 == 2 then 
		over_fg = over_fg .. fg.lr300.units .. ","
		over_fg_sights = fg.lr300.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._rail_foregrip_car4 == 3 then
		over_fg = over_fg .. fg.jp.units .. ","
		over_fg_sights = fg.jp.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._rail_foregrip_car4 == 4 then
		over_fg = over_fg .. fg.smr.units .. ","
		over_fg_sights = fg.smr.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._rail_foregrip_car4 == 5 then
		over_fg = over_fg .. fg.moe.units .. ","
		over_fg_sights = fg.moe.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._rail_foregrip_car4 == 6 then
		over_fg = over_fg .. fg.lvoa.units .. ","
		over_fg_sights = fg.lvoa.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._rail_foregrip_car4 == 7 then
		over_fg = over_fg .. fg.colt.units .. ","
		over_fg_sights = fg.colt.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._rail_foregrip_car4 == 8 then
		over_fg = over_fg .. fg.m16.units .. ","
		over_fg_sights = fg.m16.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._rail_foregrip_car4 == 9 then
		over_fg = over_fg .. fg.m16Railed.units .. ","
		over_fg_sights = fg.m16Railed.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._rail_foregrip_car4 == 10 then
		over_fg = over_fg ..fg.m16Vietnam.units .. ","
		over_fg_sights = fg.m16Vietnam.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._rail_foregrip_car4 == 11 then
		over_fg = over_fg .. fg.m16Stag.units .. ","
		over_fg_sights = fg.m16Stag.override
	end		
	
	if GageUpgradeOptions._opts.CAR4.Foregrips._vg_rail_car4 == 2 then 
		over_fg = over_fg .. "adds = {" .. vg.ass_vg .. "},"
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._vg_rail_car4 == 3 then 
		over_fg = over_fg .. "adds = {" .. vg.smg_vg .. "},"
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._vg_rail_car4 == 4 then 
		over_fg = over_fg .. "adds = {" .. vg.afg_vg .. "},"
	end

	if GageUpgradeOptions._opts.CAR4.Foregrips._sight_rail_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_rail_car4 ~= 1 then	
		override = override .. over_fg_sights .. ","
		
		if GageUpgradeOptions._opts.CAR4.Foregrips._sight_rail_car4 == 2 then
			override = override .. sight.m16.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_rail_car4 == 3 then
			override = override .. sight.ksg.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_rail_car4 == 4 then
			override = override .. sight.mbus .. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_rail_car4 == 5 then
			override = override .. sight.ksgFs.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_rail_car4 == 6 then
			override = override .. sight.mbusFs .. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_rail_car4 == 7 then
			override = override .. sight.noSight .. ",";
		end	

		if GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_rail_car4 == 2 then
			override = override  .. opticGadgets.frontSight .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_rail_car4 == 3 then
			override = override  .. opticGadgets.carryHandle .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_rail_car4 == 4 then
			override = override  .. opticGadgets.ksgFront .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_rail_car4 == 5 then
			override = override  .. opticGadgets.mbusFront .. ","
		end	
		
		over_fg = over_fg  .. override .. "}"
	end

	car4_override = car4_override .. over_fg .. "},"
end

--	Override LR300 Foregrip:
--		- Foregrip Unit;
--		- Iron Sights;
--		- Optic gadget;
--		- Vertical Grip;

if GageUpgradeOptions._opts.CAR4.Foregrip._lr300_foregrip_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._sight_lr300_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_lr300_car4 ~= 1 then
	over_fg = fg.lr300.unit_name .. " = {"
	over_fg_sights = fg.lr300.override
	override = "override = {"
			
	if GageUpgradeOptions._opts.CAR4.Foregrip._lr300_foregrip_car4 == 2 then 
		over_fg = over_fg .. fg.rail.units .. ","
		over_fg_sights = fg.rail.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrip._lr300_foregrip_car4 == 3 then
		over_fg = over_fg .. fg.jp.units .. ","
		over_fg_sights = fg.jp.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrip._lr300_foregrip_car4 == 4 then
		over_fg = over_fg .. fg.smr.units .. ","
		over_fg_sights = fg.smr.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrip._lr300_foregrip_car4 == 5 then
		over_fg = over_fg .. fg.moe.units .. ","
		over_fg_sights = fg.moe.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrip._lr300_foregrip_car4 == 6 then
		over_fg = over_fg .. fg.lvoa.units .. ","
		over_fg_sights = fg.lvoa.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrip._lr300_foregrip_car4 == 7 then
		over_fg = over_fg .. fg.colt.units .. ","
		over_fg_sights = fg.colt.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrip._lr300_foregrip_car4 == 8 then
		over_fg = over_fg .. fg.m16.units .. ","
		over_fg_sights = fg.m16.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrip._lr300_foregrip_car4 == 9 then
		over_fg = over_fg .. fg.m16Railed.units .. ","
		over_fg_sights = fg.m16Railed.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrip._lr300_foregrip_car4 == 10 then
		over_fg = over_fg ..fg.m16Vietnam.units .. ","
		over_fg_sights = fg.m16Vietnam.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrip._lr300_foregrip_car4 == 11 then
		over_fg = over_fg .. fg.m16Stag.units .. ","
		over_fg_sights = fg.m16Stag.override
	end
	
	if GageUpgradeOptions._opts.CAR4.Foregrips._vg_lr300_car4 == 2 then 
		over_fg = over_fg .. "adds = {" .. vg.ass_vg .. "},"
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._vg_lr300_car4 == 3 then 
		over_fg = over_fg .. "adds = {" .. vg.smg_vg .. "},"
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._vg_lr300_car4 == 4 then 
		over_fg = over_fg .. "adds = {" .. vg.afg_vg .. "},"
	end
	
	if GageUpgradeOptions._opts.CAR4.Foregrips._sight_lr300_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_lr300_car4 ~= 1 then	
		override = override .. over_fg_sights .. ","
		
		if GageUpgradeOptions._opts.CAR4.Foregrips._sight_lr300_car4 == 2 then
			override = override .. sight.m16.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_lr300_car4 == 3 then
			override = override .. sight.ksg.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_lr300_car4 == 4 then
			override = override .. sight.mbus .. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_lr300_car4 == 5 then
			override = override .. sight.ksgFs.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_lr300_car4 == 6 
			override = override .. sight.mbusFs .. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_lr300_car4 == 7 then
			override = override .. sight.noSight .. ",";
		end	
	
		if GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_lr300_car4 == 2 then
			override = override  .. opticGadgets.frontSight .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_lr300_car4 == 3 then
			override = override  .. opticGadgets.carryHandle .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_lr300_car4 == 4 then
			override = override  .. opticGadgets.ksgFront .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_lr300_car4 == 5 then
			override = override  .. opticGadgets.mbusFront .. ","
		end	
		
		over_fg = over_fg  .. override .. "}"
	end

	car4_override = car4_override .. over_fg .. "},"
end

--	Override JP Foregrip:
--		- Foregrip Unit;
--		- Iron Sights;
--		- Optic gadget;
--		- Vertical Grip;

if GageUpgradeOptions._opts.CAR4.Foregrips._jp_foregrip_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._sight_jp_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_jp_car4 ~= 1 then
	over_fg = fg.jp.unit_name .. " = {"
	over_fg_sights = fg.jp.override
	override = "override = {"
			
	if GageUpgradeOptions._opts.CAR4.Foregrips._jp_foregrip_car4 == 2 then 
		over_fg = over_fg .. fg.rail.units .. ","
		over_fg_sights = fg.rail.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._jp_foregrip_car4 == 3 then
		over_fg = over_fg .. fg.lr300.units .. ","
		over_fg_sights = fg.lr300.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._jp_foregrip_car4 == 4 then
		over_fg = over_fg .. fg.smr.units .. ","
		over_fg_sights = fg.smr.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._jp_foregrip_car4 == 5 then
		over_fg = over_fg .. fg.moe.units .. ","
		over_fg_sights = fg.moe.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._jp_foregrip_car4 == 6 then
		over_fg = over_fg .. fg.lvoa.units .. ","
		over_fg_sights = fg.lvoa.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._jp_foregrip_car4 == 7 then
		over_fg = over_fg .. fg.colt.units .. ","
		over_fg_sights = fg.colt.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._jp_foregrip_car4 == 8 then
		over_fg = over_fg .. fg.m16.units .. ","
		over_fg_sights = fg.m16.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._jp_foregrip_car4 == 9 then
		over_fg = over_fg .. fg.m16Railed.units .. ","
		over_fg_sights = fg.m16Railed.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._jp_foregrip_car4 == 10 then
		over_fg = over_fg ..fg.m16Vietnam.units .. ","
		over_fg_sights = fg.m16Vietnam.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._jp_foregrip_car4 == 11 then
		over_fg = over_fg .. fg.m16Stag.units .. ","
		over_fg_sights = fg.m16Stag.override
	end
	
	if GageUpgradeOptions._opts.CAR4.vg_jp_car_4 == 2 then 
		over_fg = over_fg .. "adds = {" .. vg.ass_vg .. "},"
	elseif GageUpgradeOptions._opts.CAR4.vg_jp_car_4 == 3 then 
		over_fg = over_fg .. "adds = {" .. vg.smg_vg .. "},"
	elseif GageUpgradeOptions._opts.CAR4.vg_jp_car_4 == 4 then 
		over_fg = over_fg .. "adds = {" .. vg.afg_vg .. "},"
	end
	
	if GageUpgradeOptions._opts.CAR4.Foregrips._sight_jp_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_jp_car4 ~= 1 then	
		override = override .. over_fg_sights .. ","

		if GageUpgradeOptions._opts.CAR4.Foregrips._sight_jp_car4 == 2 then
			override = override .. sight.m16.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_jp_car4 == 3 then
			override = override .. sight.ksg.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_jp_car4 == 4 then
			override = override .. sight.mbus .. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_jp_car4 == 5 then
			override = override .. sight.ksgFs.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_jp_car4 == 6 then
			override = override .. sight.mbusFs .. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_jp_car4 == 7 then
			override = override .. sight.noSight .. ",";
		end	
	
		if GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_jp_car4 == 2 then
			override = override  .. opticGadgets.frontSight .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_jp_car4 == 3 then
			override = override  .. opticGadgets.carryHandle .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_jp_car4 == 4 then
			override = override  .. opticGadgets.ksgFront .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_jp_car4 == 5 then
			override = override  .. opticGadgets.mbusFront .. ","
		end	
		
		over_fg = over_fg  .. override .. "}"
	end

	car4_override = car4_override .. over_fg .. "},"
end

--	Override SMR Foregrip:
--		- Foregrip Unit;
--		- Iron Sights;
--		- Optic gadget;
--		- Vertical Grip;

if GageUpgradeOptions._opts.CAR4.Foregrips._smr_foregrip_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._sight_smr_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_smr_car4 ~= 1 then
	over_fg = fg.smr.unit_name .. " = {"
	over_fg_sights = fg.smr.override
	override = "override = {"
		
	if GageUpgradeOptions._opts.CAR4.Foregrips._smr_foregrip_car4 == 2 then 
		over_fg = over_fg .. fg.rail.units .. ","
		over_fg_sights = fg.rail.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._smr_foregrip_car4 == 3 then
		over_fg = over_fg .. fg.lr300.units .. ","
		over_fg_sights = fg.lr300.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._smr_foregrip_car4 == 4 then
		over_fg = over_fg .. fg.jp.units .. ","
		over_fg_sights = fg.jp.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._smr_foregrip_car4 == 5 then
		over_fg = over_fg .. fg.moe.units .. ","
		over_fg_sights = fg.moe.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._smr_foregrip_car4 == 6 then
		over_fg = over_fg .. fg.lvoa.units .. ","
		over_fg_sights = fg.lvoa.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._smr_foregrip_car4 == 7 then
		over_fg = over_fg .. fg.colt.units .. ","
		over_fg_sights = fg.colt.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._smr_foregrip_car4 == 8 then
		over_fg = over_fg .. fg.m16.units .. ","
		over_fg_sights = fg.m16.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._smr_foregrip_car4 == 9 then
		over_fg = over_fg .. fg.m16Railed.units .. ","
		over_fg_sights = fg.m16Railed.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._smr_foregrip_car4 == 10 then
		over_fg = over_fg ..fg.m16Vietnam.units .. ","
		over_fg_sights = fg.m16Vietnam.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._smr_foregrip_car4 == 11 then
		over_fg = over_fg .. fg.m16Stag.units .. ","
		over_fg_sights = fg.m16Stag.override
	end
	
	if GageUpgradeOptions._opts.CAR4.Foregrips._vg_smr_car4 == 2 then 
		over_fg = over_fg .. "adds = {" .. vg.ass_vg .. "},"
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._vg_smr_car4 == 3 then 
		over_fg = over_fg .. "adds = {" .. vg.smg_vg .. "},"
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._vg_smr_car4 == 4 then 
		over_fg = over_fg .. "adds = {" .. vg.afg_vg .. "},"
	end
	
	if GageUpgradeOptions._opts.CAR4.Foregrips._sight_smr_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_smr_car4 ~= 1 then	
		override = override .. over_fg_sights .. ","
		
		if GageUpgradeOptions._opts.CAR4.Foregrips._sight_smr_car4 == 2 then
			override = override .. sight.m16.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_smr_car4 == 3 then
			override = override .. sight.ksg.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_smr_car4 == 4 then
			override = override .. sight.mbus .. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_smr_car4 == 5 then
			override = override .. sight.ksgFs.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_smr_car4 == 6 then
			override = override .. sight.mbusFs .. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_smr_car4 == 7 then
			override = override .. sight.noSight .. ",";
		end
		
		if GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_smr_car4 == 2 then
			override = override  .. opticGadgets.frontSight .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_smr_car4 == 3 then
			override = override  .. opticGadgets.carryHandle .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_smr_car4 == 4 then
			override = override  .. opticGadgets.ksgFront .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_smr_car4 == 5 then
			override = override  .. opticGadgets.mbusFront .. ","
		end	
		
		over_fg = over_fg  .. override .. "}"
	end

	car4_override = car4_override .. over_fg .. "},"
end	

--	Override LVOA Foregrip:
--		- Foregrip Unit;
--		- Iron Sights;
--		- Optic gadget;
--		- Vertical Grip;

if GageUpgradeOptions._opts.CAR4.Foregrips._lvoa_foregrip_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._sight_lvoa_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_lvoa_car4 ~= 1 then
	over_fg = fg.lvoa.unit_name .. " = {"
	over_fg_sights = fg.lvoa.override
	override = "override = {"
			
	if GageUpgradeOptions._opts.CAR4.Foregrips._lvoa_foregrip_car4 == 2 then 
		over_fg = over_fg .. fg.rail.units .. ","
		over_fg_sights = fg.rail.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._lvoa_foregrip_car4 == 3 then
		over_fg = over_fg .. fg.lr300.units .. ","
		over_fg_sights = fg.lr300.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._lvoa_foregrip_car4 == 4 then
		over_fg = over_fg .. fg.smr.units .. ","
		over_fg_sights = fg.smr.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._lvoa_foregrip_car4 == 5 then
		over_fg = over_fg .. fg.jp.units .. ","
		over_fg_sights = fg.jp.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._lvoa_foregrip_car4 == 6 then
		over_fg = over_fg .. fg.moe.units .. ","
		over_fg_sights = fg.moe.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._lvoa_foregrip_car4 == 7 then
		over_fg = over_fg .. fg.colt.units .. ","
		over_fg_sights = fg.colt.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._lvoa_foregrip_car4 == 8 then
		over_fg = over_fg .. fg.m16.units .. ","
		over_fg_sights = fg.m16.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._lvoa_foregrip_car4 == 9 then
		over_fg = over_fg .. fg.m16Railed.units .. ","
		over_fg_sights = fg.m16Railed.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._lvoa_foregrip_car4 == 10 then
		over_fg = over_fg ..fg.m16Vietnam.units .. ","
		over_fg_sights = fg.m16Vietnam.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._lvoa_foregrip_car4 == 11 then
		over_fg = over_fg .. fg.m16Stag.units .. ","
		over_fg_sights = fg.m16Stag.override
	end
	
	if GageUpgradeOptions._opts.CAR4.Foregrips._vg_lvoa_car4 == 2 then 
		over_fg = over_fg .. "adds = {" .. vg.ass_vg .. "},"
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._vg_lvoa_car4 == 3 then 
		over_fg = over_fg .. "adds = {" .. vg.smg_vg .. "},"
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._vg_lvoa_car4 == 4 then 
		over_fg = over_fg .. "adds = {" .. vg.afg_vg .. "},"
	end
	
	if GageUpgradeOptions._opts.CAR4.Foregrips._sight_lvoa_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_lvoa_car4 ~= 1 then	
		override = override .. over_fg_sights .. ","
		
		if GageUpgradeOptions._opts.CAR4.Foregrips._sight_lvoa_car4 == 2 then
			override = override .. sight.m16.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_lvoa_car4 == 3 then
			override = override .. sight.ksg.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_lvoa_car4 == 4 then
			override = override .. sight.mbus .. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_lvoa_car4 == 5 then
			override = override .. sight.ksgFs.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_lvoa_car4 == 6 then
			override = override .. sight.mbusFs .. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_lvoa_car4 == 7 then
			override = override .. sight.noSight .. ",";
		end	
		
		if GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_lvoa_car4 == 2 then
			override = override  .. opticGadgets.frontSight .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_lvoa_car4 == 3 then
			override = override  .. opticGadgets.carryHandle .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_lvoa_car4 == 4 then
			override = override  .. opticGadgets.ksgFront .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_lvoa_car4 == 5 then
			override = override  .. opticGadgets.mbusFront .. ","
		end	
		
		over_fg = over_fg  .. override .. "}"
	end

	car4_override = car4_override .. over_fg .. "},"
end	

--	Override MOE Foregrip:
--		- Foregrip Unit;
--		- Iron Sights;
--		- Optic gadget;
--		- Vertical Grip;

if GageUpgradeOptions._opts.CAR4.Foregrips._moe_foregrip_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._sight_moe_car4 ~= 1 or 			GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_moe_car4 ~= 1 then
	over_fg = fg.moe.unit_name .. " = {"
	over_fg_sights = fg.moe.override
	override = "override = {"
			
	if GageUpgradeOptions._opts.CAR4.Foregrips._moe_foregrip_car4 == 2 then 
		over_fg = over_fg .. fg.rail.units .. ","
		over_fg_sights = fg.rail.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._moe_foregrip_car4 == 3 then
		over_fg = over_fg .. fg.lr300.units .. ","
		over_fg_sights = fg.lr300.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._moe_foregrip_car4 == 4 then
		over_fg = over_fg .. fg.smr.units .. ","
		over_fg_sights = fg.smr.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._moe_foregrip_car4 == 5 then
		over_fg = over_fg .. fg.jp.units .. ","
		over_fg_sights = fg.jp.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._moe_foregrip_car4 == 6 then
		over_fg = over_fg .. fg.lvoa.units .. ","
		over_fg_sights = fg.lvoa.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._moe_foregrip_car4 == 7 then
		over_fg = over_fg .. fg.colt.units .. ","
		over_fg_sights = fg.colt.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._moe_foregrip_car4 == 8 then
		over_fg = over_fg .. fg.m16.units .. ","
		over_fg_sights = fg.m16.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._moe_foregrip_car4 == 9 then
		over_fg = over_fg .. fg.m16Railed.units .. ","
		over_fg_sights = fg.m16Railed.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._moe_foregrip_car4 == 10 then
		over_fg = over_fg ..fg.m16Vietnam.units .. ","
		over_fg_sights = fg.m16Vietnam.override
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._moe_foregrip_car4 == 11 then
		over_fg = over_fg .. fg.m16Stag.units .. ","
		over_fg_sights = fg.m16Stag.override
	end
	
	if GageUpgradeOptions._opts.CAR4.Foregrips._vg_moe_car4 == 2 then 
		over_fg = over_fg .. "adds = {" .. vg.ass_vg .. "},"
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._vg_moe_car4 == 3 then 
		over_fg = over_fg .. "adds = {" .. vg.smg_vg .. "},"
	elseif GageUpgradeOptions._opts.CAR4.Foregrips._vg_moe_car4 == 4 then 
		over_fg = over_fg .. "adds = {" .. vg.afg_vg .. "},"
	end
	
	if GageUpgradeOptions._opts.CAR4.Foregrips._sight_moe_car4 ~= 1 or GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_moe_car4 ~= 1 then	
		override = override .. over_fg_sights .. ","
		
		if GageUpgradeOptions._opts.CAR4.Foregrips._sight_moe_car4 == 2 then
			override = override .. sight.m16.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_moe_car4 == 3 then
			override = override .. sight.ksg.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_moe_car4 == 4 then
			override = override .. sight.mbus .. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_moe_car4 == 5 then
			override = override .. sight.ksgFs.. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_moe_car4 == 6 then
			override = override .. sight.mbusFs .. ",";
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._sight_moe_car4 == 7 then
			override = override .. sight.noSight .. ",";
		end	
		
		if GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_moe_car4 == 2 then
			override = override  .. opticGadgets.frontSight .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_moe_car4 == 3 then
			override = override  .. opticGadgets.carryHandle .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_moe_car4 == 4 then
			override = override  .. opticGadgets.ksgFront .. ","
		elseif GageUpgradeOptions._opts.CAR4.Foregrips._optic_gadget_moe_car4 == 5 then
			override = override  .. opticGadgets.mbusFront .. ","
		end	
		
		over_fg = over_fg  .. override .. "}"
	end

	car4_override = car4_override .. over_fg .. "},"
end

--	Tactical Flashlight
local surefire = ""
if GageUpgradeOptions._opts.CAR4.Gadgets._surefire_car4 ~= 1 then
	surefire =  gadgets.surefire.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Gadgets._surefire_car4 == 2 then
		surefire = surefire .. car4_gadget_positions.closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._surefire_car4 == 3 then
		surefire = surefire .. gadgets.pis_tlr1.units .. car4_gadget_positions.under_closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._surefire_car4 == 4 then
		surefire = surefire .. gadgets.pis_tlr1.units .. car4_gadget_positions.under_center
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._surefire_car4 == 5 then
		surefire = surefire .. gadgets.pis_tlr1.units .. car4_gadget_positions.under_far
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._surefire_car4 == 6 then
		surefire = surefire .. gadgets.pis_m3x.units .. car4_gadget_positions.under_closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._surefire_car4 == 7 then
		surefire = surefire .. gadgets.pis_m3x.units .. car4_gadget_positions.under_center
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._surefire_car4 == 8 then
		surefire = surefire .. gadgets.pis_m3x.units .. car4_gadget_positions.under_far
	end
	
	car4_override = car4_override .. surefire .. "},"
end

--	Laser
local peqbox = ""
if GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 ~= 1 then
	peqbox =  gadgets.peqbox.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 2 then
		peqbox = peqbox .. car4_gadget_positions.closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 3 then
		peqbox = peqbox .. car4_gadget_positions.top
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 4 then
		peqbox = peqbox .. gadgets.ass_laser.units
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 5 then
		peqbox = peqbox .. gadgets.ass_laser.units .. car4_gadget_positions.closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 6 then
		peqbox = peqbox .. gadgets.ass_laser.units .. car4_gadget_positions.top
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 7 then
		peqbox = peqbox .. gadgets.peq15.units
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 8 then
		peqbox = peqbox .. gadgets.peq15.units .. car4_gadget_positions.closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 9 then
		peqbox = peqbox .. gadgets.peq15.units .. car4_gadget_positions.top
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 10 then
		peqbox = peqbox .. gadgets.utg.units
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 11 then
		peqbox = peqbox .. gadgets.utg.units .. car4_gadget_positions.closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 12 then
		peqbox = peqbox .. gadgets.pis_laser.units .. car4_gadget_positions.under_closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 13 then
		peqbox = peqbox .. gadgets.pis_laser.units .. car4_gadget_positions.under_center
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 14 then
		peqbox = peqbox .. gadgets.pis_laser.units .. car4_gadget_positions.under_far
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 15 then
		peqbox = peqbox .. gadgets.pis_crimson.units .. car4_gadget_positions.under_closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 16 then
		peqbox = peqbox .. gadgets.pis_crimson.units .. car4_gadget_positions.under_center
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 17 then
		peqbox = peqbox .. gadgets.pis_crimson.units .. car4_gadget_positions.under_far
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 18 then
		peqbox = peqbox .. gadgets.pis_x400v.units .. car4_gadget_positions.under_closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 19 then
		peqbox = peqbox .. gadgets.pis_x400v.units .. car4_gadget_positions.under_center
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._peqbox_car4 == 20 then
		peqbox = peqbox .. gadgets.pis_x400v.units .. car4_gadget_positions.under_far
	end
	
	car4_override = car4_override .. peqbox .. "},"
end	

--	Small Laser
local ass_laser = ""
if GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 ~= 1 then
	ass_laser =  gadgets.ass_laser.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 2 then
		ass_laser = ass_laser .. car4_gadget_positions.closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 3 then
		ass_laser = ass_laser .. car4_gadget_positions.top
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 4 then
		ass_laser = ass_laser .. gadgets.peqbox.units
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 5 then
		ass_laser = ass_laser .. gadgets.peqbox.units .. car4_gadget_positions.closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 6 then
		ass_laser = ass_laser .. gadgets.peqbox.units .. car4_gadget_positions.top
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 7 then
		ass_laser = ass_laser .. gadgets.peq15.units
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 8 then
		ass_laser = ass_laser .. gadgets.peq15.units .. car4_gadget_positions.closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 9 then
		ass_laser = ass_laser .. gadgets.peq15.units .. car4_gadget_positions.top
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 10 then
		ass_laser = ass_laser .. gadgets.utg.units
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 11 then
		ass_laser = ass_laser .. gadgets.utg.units .. car4_gadget_positions.closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 12 then
		ass_laser = ass_laser .. gadgets.pis_laser.units .. car4_gadget_positions.under_closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 13 then
		ass_laser = ass_laser .. gadgets.pis_laser.units .. car4_gadget_positions.under_center
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 14 then
		ass_laser = ass_laser .. gadgets.pis_laser.units .. car4_gadget_positions.under_far
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 15 then
		ass_laser = ass_laser .. gadgets.pis_crimson.units .. car4_gadget_positions.under_closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 16 then
		ass_laser = ass_laser .. gadgets.pis_crimson.units .. car4_gadget_positions.under_center
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 17 then
		ass_laser = ass_laser .. gadgets.pis_crimson.units .. car4_gadget_positions.under_far
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 18 then
		ass_laser = ass_laser .. gadgets.pis_x400v.units .. car4_gadget_positions.under_closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 19 then
		ass_laser = ass_laser .. gadgets.pis_x400v.units .. car4_gadget_positions.under_center
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._ass_laser_car4 == 20 then
		ass_laser = ass_laser .. gadgets.pis_x400v.units .. car4_gadget_positions.under_far
	end
	
	car4_override = car4_override .. ass_laser .. "},"
end	

--	Military Laser Module

local peq15 = ""
if GageUpgradeOptions._opts.CAR4.Gadgets._military_car4 ~= 1 then
	peq15 =  gadgets.peq15.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Gadgets._military_car4 == 2 then
		peq15 = peq15 .. car4_gadget_positions.closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._military_car4 == 3 then
		peq15 = peq15 .. car4_gadget_positions.top
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._military_car4 == 4 then
		peq15 = peq15 .. gadgets.utg.units
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._military_car4 == 5 then
		peq15 = peq15 .. gadgets.utg.units .. car4_gadget_positions.closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._military_car4 == 6 then
		peq15 = peq15 .. gadgets.pis_x400v.units .. car4_gadget_positions.under_closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._military_car4 == 7 then
		peq15 = peq15 .. gadgets.pis_x400v.units .. car4_gadget_positions.under_center
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._military_car4 == 8 then
		peq15 = peq15 .. gadgets.pis_x400v.units .. car4_gadget_positions.under_far
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._military_car4 == 9 then
		peq15 = peq15 .. car4_gadget_positions.top .. "adds = {\"".. gadgets.pis_tlr1.unit_name .."\" }, override = {"..gadgets.pis_tlr1.unit_name .." = { stats = {value = 1}, ".. car4_gadget_positions.under_center .."}},"
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._military_car4 == 10 then
		peq15 = peq15 .. gadgets.pis_laser.units .. car4_gadget_positions.under_center .. "adds = {\"".. gadgets.surefire.unit_name .."\" }, override = {"..gadgets.surefire.unit_name .." = { stats = {value = 1}}},"
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._military_car4 == 11 then
		peq15 = peq15 .. gadgets.ass_laser.units .. "adds = {\"".. gadgets.pis_tlr1.unit_name .."\" }, override = {"..gadgets.pis_tlr1.unit_name .." = { stats = {value = 1}, ".. car4_gadget_positions.under_center .."}},"
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._military_car4 == 12 then
		peq15 = peq15 .. gadgets.peqbox.units .. car4_gadget_positions.top .. "adds = {\"".. gadgets.pis_tlr1.unit_name .."\" }, override = {"..gadgets.pis_tlr1.unit_name .." = { stats = {value = 1}, ".. car4_gadget_positions.under_center .."}},"
	end
	
	car4_override = car4_override .. peq15 .. "},"
end	

--	LED Combo

local utg = ""
if GageUpgradeOptions._opts.CAR4.Gadgets._utg_car4 ~= 1 then
	utg =  gadgets.utg.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Gadgets._utg_car4 == 2 then
		utg = utg .. car4_gadget_positions.closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._utg_car4 == 3 then
		utg = utg .. gadgets.peq15.units
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._utg_car4 == 4 then
		utg = utg .. gadgets.peq15.units .. car4_gadget_positions.closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._utg_car4 == 5 then
		utg = utg .. gadgets.peq15.units .. car4_gadget_positions.top
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._utg_car4 == 6 then
		utg = utg .. gadgets.pis_x400v.units .. car4_gadget_positions.under_closer
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._utg_car4 == 7 then
		utg = utg .. gadgets.pis_x400v.units .. car4_gadget_positions.under_center
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._utg_car4 == 8 then
		utg = utg .. gadgets.pis_x400v.units .. car4_gadget_positions.under_far
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._utg_car4 == 9 then
		utg = utg .. gadgets.peq15.units .. car4_gadget_positions.top .. "adds = {\"".. gadgets.pis_tlr1.unit_name .."\" }, override = {"..gadgets.pis_tlr1.unit_name .." = { stats = {value = 1}, ".. car4_gadget_positions.under_center .."}},"
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._utg_car4 == 10 then
		utg = utg .. gadgets.pis_laser.units .. car4_gadget_positions.under_center .. "adds = {\"".. gadgets.surefire.unit_name .."\" }, override = {"..gadgets.surefire.unit_name .." = { stats = {value = 1}}},"
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._utg_car4 == 11 then
		utg = utg .. gadgets.ass_laser.units .. "adds = {\"".. gadgets.pis_tlr1.unit_name .."\" }, override = {"..gadgets.pis_tlr1.unit_name .." = { stats = {value = 1}, ".. car4_gadget_positions.under_center .."}},"
	elseif GageUpgradeOptions._opts.CAR4.Gadgets._utg_car4 == 12 then
		utg = utg .. gadgets.peqbox.units .. car4_gadget_positions.top .. "adds = {\"".. gadgets.pis_tlr1.unit_name .."\" }, override = {"..gadgets.pis_tlr1.unit_name .." = { stats = {value = 1}, ".. car4_gadget_positions.under_center .."}},"
	end
	
	car4_override = car4_override .. utg .. "},"
end	

--	Stocks
--	Standard Vanilla
local standard_stock = ""
if GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 ~= 1 then
	standard_stock =  stocks.standard.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 == 2 then
		standard_stock = standard_stock .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 == 3 then
		standard_stock = standard_stock .. stocks.tactical.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 == 4 then
		standard_stock = standard_stock .. stocks.tactical.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 == 5 then
		standard_stock = standard_stock .. stocks.folding.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 == 6 then
		standard_stock = standard_stock .. stocks.wide.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 == 7 then
		standard_stock = standard_stock .. stocks.wide.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 == 8 then
		standard_stock = standard_stock .. stocks.warTorn.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 == 9 then
		standard_stock = standard_stock .. stocks.warTorn.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 == 10 then
		standard_stock = standard_stock .. stocks.twoPiece.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 == 11 then
		standard_stock = standard_stock .. stocks.amr16.units
	elseif GageUpgradeOptions._opts.CAR4.standard_stock_car_4 == 12 then
		standard_stock = standard_stock .. stocks.para.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 == 13 then
		standard_stock = standard_stock .. stocks.paraShort.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 == 14 then
		standard_stock = standard_stock .. stocks.akSideFold.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 == 15 then
		standard_stock = standard_stock .. stocks.akFolding.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._standard_stock_car4 == 16 then
		standard_stock = standard_stock .. stocks.mp5noStock.units .. "adds_type = {}, "
	end
	
	car4_override = car4_override .. standard_stock .. "},"
end		

--	Tactical Stock
local tactical_stock = ""
if GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 ~= 1 then
	tactical_stock =  stocks.tactical.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 2 then
		tactical_stock = tactical_stock .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 3 then
		tactical_stock = tactical_stock .. stocks.standard.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 4 then
		tactical_stock = tactical_stock .. stocks.standard.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 5 then
		tactical_stock = tactical_stock .. stocks.folding.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 6 then
		tactical_stock = tactical_stock .. stocks.wide.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 7 then
		tactical_stock = tactical_stock .. stocks.wide.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 8 then
		tactical_stock = tactical_stock .. stocks.warTorn.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 9 then
		tactical_stock = tactical_stock .. stocks.warTorn.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 10 then
		tactical_stock = tactical_stock .. stocks.twoPiece.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 11 then
		tactical_stock = tactical_stock .. stocks.amr16.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 12 then
		tactical_stock = tactical_stock .. stocks.para.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 13 then
		tactical_stock = tactical_stock .. stocks.paraShort.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 14 then
		tactical_stock = tactical_stock .. stocks.akSideFold.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 15 then
		tactical_stock = tactical_stock .. stocks.akFolding.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._tactical_stock_car4 == 16 then
		tactical_stock = tactical_stock .. stocks.mp5noStock.units .. "adds_type = {}, "
	end
	
	car4_override = car4_override .. tactical_stock .. "},"
end		

--	Folding Stock
local folding_stock = ""
if GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 ~= 1 then
	folding_stock =  stocks.folding.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 2 then
		folding_stock = folding_stock .. stocks.standard.units .. "adds_type = {\"stock_adapter\"}, " 
	elseif GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 3 then
		folding_stock = folding_stock .. stocks.standard.units .. "parent = \"olympic\", a_obj = \"a_b\", adds_type = {\"stock_adapter\"}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 4 then
		folding_stock = folding_stock .. stocks.tactical.units .. "adds_type = {\"stock_adapter\"}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 5 then
		folding_stock = folding_stock .. stocks.tactical.units .. "parent = \"olympic\", a_obj = \"a_b\", adds_type = {\"stock_adapter\"},"
	elseif GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 6 then
		folding_stock = folding_stock .. stocks.wide.units .. "adds_type = {\"stock_adapter\"}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 7 then
		folding_stock = folding_stock .. stocks.wide.units .. "parent = \"olympic\", a_obj = \"a_b\", adds_type = {\"stock_adapter\"},"
	elseif GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 8 then
		folding_stock = folding_stock .. stocks.warTorn.units .. "adds_type = {\"stock_adapter\"}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 9 then
		folding_stock = folding_stock .. stocks.warTorn.units .. "parent = \"olympic\", a_obj = \"a_b\", adds_type = {\"stock_adapter\"},"
	elseif GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 10 then
		folding_stock = folding_stock .. stocks.twoPiece.units .. "adds_type = {\"stock_adapter\"}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 11 then
		folding_stock = folding_stock .. stocks.amr16.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 12 then
		folding_stock = folding_stock .. stocks.para.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 13 then
		folding_stock = folding_stock .. stocks.paraShort.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 14 then
		folding_stock = folding_stock .. stocks.akSideFold.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 15 then
		folding_stock = folding_stock .. stocks.akFolding.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._folding_stock_car4 == 16 then
		folding_stock = folding_stock .. stocks.mp5noStock.units
	end
	
	car4_override = car4_override .. folding_stock .. "},"
end	

--	Wide Stock
local wide_stock = ""
if GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 ~= 1 then
	wide_stock =  stocks.wide.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 2 then
		wide_stock = wide_stock .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 3 then
		wide_stock = wide_stock .. stocks.standard.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 4 then
		wide_stock = wide_stock .. stocks.standard.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 5 then
		wide_stock = wide_stock .. stocks.folding.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 6 then
		wide_stock = wide_stock .. stocks.tactical.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 7 then
		wide_stock = wide_stock .. stocks.tactical.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 8 then
		wide_stock = wide_stock .. stocks.warTorn.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 9 then
		wide_stock = wide_stock .. stocks.warTorn.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 10 then
		wide_stock = wide_stock .. stocks.twoPiece.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 11 then
		wide_stock = wide_stock .. stocks.amr16.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 12 then
		wide_stock = wide_stock .. stocks.para.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 13 then
		wide_stock = wide_stock .. stocks.paraShort.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 14 then
		wide_stock = wide_stock .. stocks.akSideFold.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 15 then
		wide_stock = wide_stock .. stocks.akFolding.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._wide_stock_car4 == 16 then
		wide_stock = wide_stock .. stocks.mp5noStock.units .. "adds_type = {}, "
	end
	
	car4_override = car4_override .. wide_stock .. "},"
end

--	War-Thorn Stock
local war_torn_stock = ""
if GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 ~= 1 then
	war_torn_stock =  stocks.warTorn.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 2 then
		war_torn_stock = war_torn_stock .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 3 then
		war_torn_stock = war_torn_stock .. stocks.standard.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 4 then
		war_torn_stock = war_torn_stock .. stocks.standard.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 5 then
		war_torn_stock = war_torn_stock .. stocks.folding.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 6 then
		war_torn_stock = war_torn_stock .. stocks.tactical.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 7 then
		war_torn_stock = war_torn_stock .. stocks.tactical.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 8 then
		war_torn_stock = war_torn_stock .. stocks.wide.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 9 then
		war_torn_stock = war_torn_stock .. stocks.wide.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 10 then
		war_torn_stock = war_torn_stock .. stocks.twoPiece.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 11 then
		war_torn_stock = war_torn_stock .. stocks.amr16.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 12 then
		war_torn_stock = war_torn_stock .. stocks.para.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 13 then
		war_torn_stock = war_torn_stock .. stocks.paraShort.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 14 then
		war_torn_stock = war_torn_stock .. stocks.akSideFold.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 15 then
		war_torn_stock = war_torn_stock .. stocks.akFolding.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._war_thorn_stock_car4 == 16 then
		war_torn_stock = war_torn_stock .. stocks.mp5noStock.units .. "adds_type = {}, "
	end
	
	car4_override = car4_override .. war_torn_stock .. "},"
end	

--	2 Piece Stock
local two_piece_stock = ""
if GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 ~= 1 then
	two_piece_stock =  stocks.twoPiece.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 2 then
		two_piece_stock = two_piece_stock .. stocks.standard.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 3 then
		two_piece_stock = two_piece_stock .. stocks.standard.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 4 then
		two_piece_stock = two_piece_stock .. stocks.folding.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 5 then
		two_piece_stock = two_piece_stock .. stocks.tactical.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 6 then
		two_piece_stock = two_piece_stock .. stocks.tactical.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 7 then
		two_piece_stock = two_piece_stock .. stocks.wide.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 8 then
		two_piece_stock = two_piece_stock .. stocks.wide.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 9 then
		two_piece_stock = two_piece_stock .. stocks.warTorn.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 10 then
		two_piece_stock = two_piece_stock .. stocks.warTorn.units .. "parent = \"olympic\", a_obj = \"a_b\", "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 11 then
		two_piece_stock = two_piece_stock .. stocks.amr16.units
	elseif GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 12 then
		two_piece_stock = two_piece_stock .. stocks.para.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 13 then
		two_piece_stock = two_piece_stock .. stocks.paraShort.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 14 then
		two_piece_stock = two_piece_stock .. stocks.akSideFold.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 15 then
		two_piece_stock = two_piece_stock .. stocks.akFolding.units .. "adds_type = {}, "
	elseif GageUpgradeOptions._opts.CAR4.Stocks._two_piece_stock_car4 == 16 then
		two_piece_stock = two_piece_stock .. stocks.mp5noStock.units .. "adds_type = {}, "
	end
	
	car4_override = car4_override .. two_piece_stock .. "},"
end		

--	Standard Grip
local grip = ""
if GageUpgradeOptions._opts.CAR4.Grips._standard_grip ~= 1 then
	grip = grips.standardGrip.unit_name .. "= {"
	if GageUpgradeOptions._opts.CAR4.Grips._standard_grip == 2 then
		grip = grip .. grips.ergoGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._standard_grip == 3 then
		grip = grip .. grips.proGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._standard_grip == 4 then
		grip = grip .. grips.rubberGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._standard_grip == 5 then
		grip = grip .. grips.straightGrip.units
	end
	
	car4_override = car4_override .. grip .. "},"
end

--	Ergo Grip
grip = ""
if GageUpgradeOptions._opts.CAR4.Grips._ergo_grip_car4 ~= 1 then
	grip = grips.ergoGrip.unit_name .. "= {"
	if GageUpgradeOptions._opts.CAR4.Grips._ergo_grip_car4 == 2 then
		grip = grip .. grips.standardGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._ergo_grip_car4 == 3 then
		grip = grip .. grips.proGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._ergo_grip_car4 == 4 then
		grip = grip .. grips.rubberGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._ergo_grip_car4 == 5 then
		grip = grip .. grips.straightGrip.units
	end
	
	car4_override = car4_override .. grip .. "},"
end

--	Pro Grip
grip = ""
if GageUpgradeOptions._opts.CAR.Grips._pro_grip_car4 ~= 1 then
	grip = grips.proGrip.unit_name .. "= {"
	if GageUpgradeOptions._opts.CAR4.Grips._pro_grip_car4 == 2 then
		grip = grip .. grips.standardGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._pro_grip_car4 == 3 then
		grip = grip .. grips.ergoGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._pro_grip_car4 == 4 then
		grip = grip .. grips.rubberGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._pro_grip_car4 == 5 then
		grip = grip .. grips.straightGrip.units
	end
	
	car4_override = car4_override .. grip .. "},"
end

--	Rubber Grip
grip = ""
if GageUpgradeOptions._opts.CAR4.Grips._rubber_grip_car4 ~= 1 then
	grip = grips.rubberGrip.unit_name .. "= {"
	if GageUpgradeOptions._opts.CAR4.Grips._rubber_grip_car4 == 2 then
		grip = grip .. grips.standardGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._rubber_grip_car4 == 3 then
		grip = grip .. grips.ergoGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._rubber_grip_car4 == 4 then
		grip = grip .. grips.proGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._rubber_grip_car4 == 5 then
		grip = grip .. grips.straightGrip.units
	end
	
	car4_override = car4_override .. grip .. "},"
end

--	Straight Grip
grip = ""
if GageUpgradeOptions._opts.CAR4.Grips._rubber_grip_car4 ~= 1 then
	grip = grips.straightGrip.unit_name .. "= {"
	if GageUpgradeOptions._opts.CAR4.Grips._rubber_grip_car4 == 2 then
		grip = grip .. grips.standardGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._rubber_grip_car4 == 3 then
		grip = grip .. grips.ergoGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._rubber_grip_car4 == 4 then
		grip = grip .. grips.proGrip.units
	elseif GageUpgradeOptions._opts.CAR4.Grips._rubber_grip_car4 == 5 then
		grip = grip .. grips.rubberGrip.units
	end
	
	car4_override = car4_override .. grip .. "},"
end

--	Medium Barrel
local barrel = ""
if GageUpgradeOptions._opts.CAR4.Barrels._medium_barrel_car4 ~= 1 then
	barrel = barrels.medium_barrel_vanilla.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Barrels._medium_barrel_car4 == 2 then
		barrel = barrel .. barrels.short_barrel.units
	elseif GageUpgradeOptions._opts.CAR4.Barrels._medium_barrel_car4 == 3 then
		barrel = barrel .. barrels.long_barrel.units
	elseif GageUpgradeOptions._opts.CAR4.Barrels._medium_barrel_car4 == 4 then
		barrel = barrel .. barrels.dmr_barrel.units
	elseif GageUpgradeOptions._opts.CAR4.Barrels._medium_barrel_car4 == 5 then
		barrel = barrel .. barrels.dmr_barrel.units .. "a_obj = \"a_s\", "
	elseif GageUpgradeOptions._opts.CAR4.Barrels._medium_barrel_car4 == 6 then
		barrel = barrel .. barrels.dmr_barrel.units .. "a_obj = \"a_b\", parent = \"olympic\", "
	elseif GageUpgradeOptions._opts.CAR4.Barrels._medium_barrel_car4 == 7 then
		barrel = barrel .. barrels.dmr_barrel.units .. "a_obj = \"a_b\", parent = \"m16\", "		
	end
	
	car4_override = car4_override .. barrel .. "},"
end

--	Short Barrel
if GageUpgradeOptions._opts.CAR4.Barrels._short_barrel_car4 ~= 1 then
	barrel = barrels.short_dummy.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Barrels._short_barrel_car4 == 2 then
		barrel = barrel .. barrels.medium_barrel.units
	elseif GageUpgradeOptions._opts.CAR4.Barrels._short_barrel_car4 == 3 then
		barrel = barrel .. barrels.long_barrel.units
	elseif GageUpgradeOptions._opts.CAR4.Barrels._short_barrel_car4 == 4 then
		barrel = barrel .. barrels.dmr_barrel.units
	elseif GageUpgradeOptions._opts.CAR4.Barrels._short_barrel_car4 == 5 then
		barrel = barrel .. barrels.dmr_barrel.units .. "a_obj = \"a_s\", "
	elseif GageUpgradeOptions._opts.CAR4.Barrels._short_barrel_car4 == 6 then
		barrel = barrel .. barrels.dmr_barrel.units .. "a_obj = \"a_b\", parent = \"olympic\", "
	elseif GageUpgradeOptions._opts.CAR4.Barrels._short_barrel_car4 == 7 then
		barrel = barrel .. barrels.dmr_barrel.units .. "a_obj = \"a_b\", parent = \"m16\", "		
	end
	
	car4_override = car4_override .. barrel .. "},"
end

--	Long Barrel
if GageUpgradeOptions._opts.CAR4.Barrels._long_barrel_car4 ~= 1 then
	barrel = barrels.long_barrel.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Barrels._long_barrel_car4 == 2 then
		barrel = barrel .. barrels.medium_barrel.units
	elseif GageUpgradeOptions._opts.CAR4.Barrels._long_barrel_car4 == 3 then
		barrel = barrel .. barrels.short_barrel.units
	elseif GageUpgradeOptions._opts.CAR4.Barrels._long_barrel_car4 == 4 then
		barrel = barrel .. barrels.dmr_barrel.units
	elseif GageUpgradeOptions._opts.CAR4.Barrels._long_barrel_car4 == 5 then
		barrel = barrel .. barrels.dmr_barrel.units .. "a_obj = \"a_s\", "
	elseif GageUpgradeOptions._opts.CAR4.Barrels._long_barrel_car4 == 6 then
		barrel = barrel .. barrels.dmr_barrel.units .. "a_obj = \"a_b\", parent = \"olympic\", "
	elseif GageUpgradeOptions._opts.CAR4.Barrels._long_barrel_car4 == 7 then
		barrel = barrel .. barrels.dmr_barrel.units .. "a_obj = \"a_b\", parent = \"m16\", "		
	end
	
	car4_override = car4_override .. barrel .. "},"
end

--	DMR Barrel
barrel = ""
if GageUpgradeOptions._opts.CAR4.Barrels._dmr_barrel_car4 ~= 1 then
	barrel = barrels.dmr_barrel.unit_name .. " = {"
	if GageUpgradeOptions._opts.CAR4.Barrels._dmr_barrel_car4 == 2 then
		barrel = barrel .. "a_obj = \"a_s\", "
	elseif GageUpgradeOptions._opts.CAR4.Barrels._dmr_barrel_car4 == 3 then
		barrel = barrel .. "a_obj = \"a_b\", parent = \"olympic\", "
	elseif GageUpgradeOptions._opts.CAR4.Barrels._dmr_barrel_car4 == 4 then
		barrel = barrel .. "a_obj = \"a_b\", parent = \"m16\", "
	elseif GageUpgradeOptions._opts.CAR4.Barrels._dmr_barrel_car4 == 5 then
		barrel = barrel .. barrels.medium_barrel.units
	elseif GageUpgradeOptions._opts.CAR4.Barrels._dmr_barrel_car4 == 6 then
		barrel = barrel .. barrels.short_barrel.units
	elseif GageUpgradeOptions._opts.CAR4.Barrels._dmr_barrel_car4 == 7 then
		barrel = barrel .. barrels.long_barrel.units
	end
	
	car4_override = car4_override .. barrel .. "},"
end	

-- Load car4 customize
assert(loadstring(car4_override  .. "}"))()

--The Big Supressor replace
if GageUpgradeOptions._opts.CAR4.Barrels._big_suppressor_replace_car4 then
	tweak_data.weapon.factory.wpn_fps_ass_m4.override.wpn_fps_upg_ns_ass_smg_large = {
		unit = barrel_extensions.hide.unit,
		third_unit = barrel_extensions.hide.unit,
		adds = {
			"wpn_fps_m4_uupg_b_sd_dummy",
			"wpn_fps_aug_b_short"
		},
		override = {
			wpn_fps_m4_uupg_b_medium_vanilla = {
				unit = barrel_extensions.hide.unit,
				third_unit = barrel_extensions.hide.unit,
			},
			wpn_fps_m4_uupg_b_long = {
				unit = barrel_extensions.hide.unit,
				third_unit = barrel_extensions.hide.unit,
			},
			wpn_fps_upg_ass_m4_b_beowulf = {
				unit = barrel_extensions.hide.unit,
				third_unit = barrel_extensions.hide.unit,
			},
			wpn_fps_aug_b_short = {
				parent = "m16",
				stats = {},
				pcs = {}
			}					
		},
		forbids = {
			"wpn_fps_m4_uupg_b_short_dummy"
		}
	}	
	
	if GageUpgradeOptions._opts.CAR4.Barrels._use_thin_big_car4 then
		tweak_data.weapon.factory.wpn_fps_ass_m4.override.wpn_fps_upg_ns_ass_smg_large.adds = {
			"wpn_fps_m4_uupg_b_sd_dummy_thin",
			"wpn_fps_aug_b_short"
		}
	end
end	

--Medium Supressor replace
if GageUpgradeOptions._opts.CAR4.Barrels._medium_suppressor_replace_car4 then
	tweak_data.weapon.factory.wpn_fps_ass_m4.override.wpn_fps_upg_ns_ass_smg_medium = {
		unit = barrel_extensions.hide.unit,
		third_unit = barrel_extensions.hide.unit,
		adds = {
			"wpn_fps_m4_uupg_b_sd_dummy",
			"wpn_fps_aug_b_short"
		},
		override = {
			wpn_fps_m4_uupg_b_medium_vanilla = {
				unit = barrel_extensions.hide.unit,
				third_unit = barrel_extensions.hide.unit,
			},
			wpn_fps_m4_uupg_b_long = {
				unit = barrel_extensions.hide.unit,
				third_unit = barrel_extensions.hide.unit,
			},
			wpn_fps_upg_ass_m4_b_beowulf = {
				unit = barrel_extensions.hide.unit,
				third_unit = barrel_extensions.hide.unit,
			},
			wpn_fps_m4_uupg_b_short_vanilla = {
				parent = "m16",
				stats = {},
				pcs = {}
			}				
		},
		forbids = {
			"wpn_fps_m4_uupg_b_short_dummy"
		}
	}	
	
	if GageUpgradeOptions._opts.CAR4.Barrels._use_thin_medium_car4 then
		tweak_data.weapon.factory.wpn_fps_ass_m4.override.wpn_fps_upg_ns_ass_smg_medium.adds = {
			"wpn_fps_m4_uupg_b_sd_dummy_thin",
			"wpn_fps_m4_uupg_b_short_vanilla"
		}
	end
end	

--Low Profile Supressor replace
if GageUpgradeOptions._opts.CAR4.Barrels._low_profile_suppressor_replace_car4 then
	tweak_data.weapon.factory.wpn_fps_ass_m4.override.wpn_fps_upg_ns_ass_smg_small = {
		unit = barrel_extensions.hide.unit,
		third_unit = barrel_extensions.hide.unit,
		adds = {
			"wpn_fps_m4_uupg_b_sd_dummy",
			"wpn_fps_m4_uupg_b_short_vanilla"
		},
		override = {
			wpn_fps_m4_uupg_b_medium_vanilla = {
				unit = barrel_extensions.hide.unit,
				third_unit = barrel_extensions.hide.unit,
			},
			wpn_fps_m4_uupg_b_long = {
				unit = barrel_extensions.hide.unit,
				third_unit = barrel_extensions.hide.unit,
			},
			wpn_fps_upg_ass_m4_b_beowulf = {
				unit = barrel_extensions.hide.unit,
				third_unit = barrel_extensions.hide.unit,
			},
			wpn_fps_m4_uupg_b_short_vanilla = {
				stats = {},
				pcs = {}
			}
		},
		forbids = {
			"wpn_fps_m4_uupg_b_short_dummy"
		}
	}	
	
	if GageUpgradeOptions._opts.CAR4.Barrels._use_thin_low_profile_car4 then
		tweak_data.weapon.factory.wpn_fps_ass_m4.override.wpn_fps_upg_ns_ass_smg_small.adds = {
			"wpn_fps_m4_uupg_b_sd_dummy_thin",
			"wpn_fps_m4_uupg_b_short_vanilla"
		}
	end
end	

-- AMR-16 Customization  
-- TODO: AMR16 Customization

-- Global Gadgets Position
-- P90 Right Gadget Position
tweak_data.weapon.factory.parts.wpn_fps_smg_p90_body_p90.override = {
	wpn_fps_upg_fl_ass_laser = {
		adds = { "cobray_unit" },
		parent = "cobray",
		override = {
			wpn_fps_addon_ris = {
				parent = "cobray"
			}
		}
	},
	wpn_fps_upg_fl_ass_peq15 = {
		adds = { "cobray_unit", "wpn_fps_upg_fl_ass_peq15_flashlight"},
		parent = "cobray",
		override = {
			wpn_fps_upg_fl_ass_peq15_flashlight = {
				a_obj = "a_fl",
				parent = "cobray"
			},
			wpn_fps_addon_ris = {
				parent = "cobray"
			}
		}
	},
	wpn_fps_upg_fl_ass_smg_sho_peqbox = {
		adds = { "cobray_unit" },
		parent = "cobray",
		override = {
			wpn_fps_addon_ris = {
				parent = "cobray"
			}
		}
	},
	wpn_fps_upg_fl_ass_smg_sho_surefire = {
		adds = { "cobray_unit" },
		parent = "cobray",
		override = {
			wpn_fps_addon_ris = {
				parent = "cobray"
			}
		}
	},
	wpn_fps_upg_fl_ass_utg = {
		adds = { "cobray_unit", "wpn_fps_upg_fl_ass_peq15_flashlight" },
		parent = "cobray",
		override = {
			wpn_fps_upg_fl_ass_peq15_flashlight = {
				a_obj = "a_fl",
				parent = "cobray"
			},
			wpn_fps_addon_ris = {
				parent = "cobray"
			}
		}
	}		
}

-- MP9 Right Gadget Position
tweak_data.weapon.factory.parts.wpn_fps_smg_mp9_body_mp9.override = {
	wpn_fps_upg_fl_ass_laser = {
		adds = { "sr2_unit", "wpn_fps_addon_ris" },
		parent = "sr2",
		override = {
			wpn_fps_addon_ris = {
				parent = "sr2"
			}
		}
	},
	wpn_fps_upg_fl_ass_peq15 = {
		adds = { "sr2_unit", "wpn_fps_addon_ris","wpn_fps_upg_fl_ass_peq15_flashlight"  },
		parent = "sr2",
		override = {
			wpn_fps_upg_fl_ass_peq15_flashlight = {
				a_obj = "a_fl",
				parent = "sr2"
			},
			wpn_fps_addon_ris = {
				parent = "sr2"
			}
		}
	},
	wpn_fps_upg_fl_ass_smg_sho_peqbox = {
		adds = { "sr2_unit", "wpn_fps_addon_ris"  },
		parent = "sr2",
		override = {
			wpn_fps_addon_ris = {
				parent = "sr2"
			}
		}
	},
	wpn_fps_upg_fl_ass_smg_sho_surefire = {
		adds = { "sr2_unit", "wpn_fps_addon_ris"  },
		parent = "sr2",
		override = {
			wpn_fps_addon_ris = {
				parent = "sr2"
			}
		}
	},
	wpn_fps_upg_fl_ass_utg = {
		adds = { "sr2_unit", "wpn_fps_addon_ris","wpn_fps_upg_fl_ass_peq15_flashlight"  },
		parent = "sr2",
		override = {
			wpn_fps_upg_fl_ass_peq15_flashlight = {
				a_obj = "a_fl",
				parent = "sr2"
			},
			wpn_fps_addon_ris = {
				parent = "sr2"
			}
		}
	}		
}

-- KSG Right Gadget Position
tweak_data.weapon.factory.parts.wpn_fps_sho_ksg_body_standard.override = {
	wpn_fps_upg_fl_ass_laser = {
		adds = { "famas_unit", "wpn_fps_addon_ris" },
		parent = "famas",
		override = {
			famas_unit = {
				a_obj = "a_body"
			},
			wpn_fps_addon_ris = {
				parent = "famas"
			}
		}
	},
	wpn_fps_upg_fl_ass_peq15 = {
		adds = { "famas_unit", "wpn_fps_addon_ris","wpn_fps_upg_fl_ass_peq15_flashlight" },
		parent = "famas",
		override = {
			wpn_fps_upg_fl_ass_peq15_flashlight = {
				a_obj = "a_fl",
				parent = "famas"
			},
			famas_unit = {
				a_obj = "a_body"
			},
			wpn_fps_addon_ris = {
				parent = "famas"
			}
		}
	},
	wpn_fps_upg_fl_ass_smg_sho_peqbox = {
		adds = { "famas_unit", "wpn_fps_addon_ris" },
		parent = "famas",
		override = {
			famas_unit = {
				a_obj = "a_body"
			},
			wpn_fps_addon_ris = {
				parent = "famas"
			}
		}
	},
	wpn_fps_upg_fl_ass_smg_sho_surefire = {
		adds = { "famas_unit", "wpn_fps_addon_ris" },
		parent = "famas",
		override = {
			famas_unit = {
				a_obj = "a_body"
			},
			wpn_fps_addon_ris = {
				a_obj = "a_fl",
				parent = "famas"
			}
		},
		forbids = {}
	},
	wpn_fps_upg_fl_ass_utg = {
		adds = { "famas_unit", "wpn_fps_addon_ris","wpn_fps_upg_fl_ass_peq15_flashlight" },
		parent = "famas",
		override = {
			wpn_fps_upg_fl_ass_peq15_flashlight = {
				a_obj = "a_fl",
				parent = "famas"
			},
			famas_unit = {
				a_obj = "a_body"
			},
			wpn_fps_addon_ris = {
				a_obj = "a_fl",
				parent = "famas"
			}
		},
		forbids = {}
	}		
}

-- Bronco Gadgets
tweak_data.weapon.factory.parts.wpn_fps_pis_rage_body_smooth.override = {
	wpn_fps_upg_fl_pis_laser = {
		adds = { "deagle_unit", "wpn_fps_pis_2006m_fl_adapter" },
		parent = "deagle",
		override = {
			wpn_fps_pis_2006m_fl_adapter = {
				parent = "deagle"
			}
		}
	},
	wpn_fps_upg_fl_pis_tlr1 = {
		adds = { "deagle_unit", "wpn_fps_pis_2006m_fl_adapter" },
		parent = "deagle",
		override = {
			wpn_fps_pis_2006m_fl_adapter = {
				parent = "deagle"
			}
		}
	},
	wpn_fps_upg_fl_pis_crimson = {
		adds = { "deagle_unit", "wpn_fps_pis_2006m_fl_adapter" },
		parent = "deagle",
		override = {
			wpn_fps_pis_2006m_fl_adapter = {
				parent = "deagle"
			}
		}
	},
	wpn_fps_upg_fl_pis_x400v = {
		adds = { "deagle_unit", "wpn_fps_pis_2006m_fl_adapter" },
		parent = "deagle",
		override = {
			wpn_fps_pis_2006m_fl_adapter = {
				parent = "deagle"
			}
		}
	},
	wpn_fps_upg_fl_pis_m3x = {
		adds = { "deagle_unit", "wpn_fps_pis_2006m_fl_adapter" },
		parent = "deagle",
		override = {
			wpn_fps_pis_2006m_fl_adapter = {
				parent = "deagle"
			}
		}
	}		
}

tweak_data.weapon.factory.parts.wpn_fps_pis_rage_body_standard.override = {
	wpn_fps_upg_fl_pis_laser = {
		adds = { "deagle_unit", "wpn_fps_pis_2006m_fl_adapter" },
		parent = "deagle",
		override = {
			wpn_fps_pis_2006m_fl_adapter = {
				parent = "deagle"
			}
		}
	},
	wpn_fps_upg_fl_pis_tlr1 = {
		adds = { "deagle_unit", "wpn_fps_pis_2006m_fl_adapter" },
		parent = "deagle",
		override = {
			wpn_fps_pis_2006m_fl_adapter = {
				parent = "deagle"
			}
		}
	},
	wpn_fps_upg_fl_pis_crimson = {
		adds = { "deagle_unit", "wpn_fps_pis_2006m_fl_adapter" },
		parent = "deagle",
		override = {
			wpn_fps_pis_2006m_fl_adapter = {
				parent = "deagle"
			}
		}
	},
	wpn_fps_upg_fl_pis_x400v = {
		adds = { "deagle_unit", "wpn_fps_pis_2006m_fl_adapter" },
		parent = "deagle",
		override = {
			wpn_fps_pis_2006m_fl_adapter = {
				parent = "deagle"
			}
		}
	},
	wpn_fps_upg_fl_pis_m3x = {
		adds = { "deagle_unit", "wpn_fps_pis_2006m_fl_adapter" },
		parent = "deagle",
		override = {
			wpn_fps_pis_2006m_fl_adapter = {
				parent = "deagle"
			}
		}
	}		
}

-- HK21 Gadget Reposition
-- Short
tweak_data.weapon.factory.parts.wpn_fps_lmg_hk21_fg_short.override = {
	wpn_fps_upg_fl_ass_laser = {
		adds = { "asval_unit", "wpn_fps_addon_ris" },
		parent = "asval",
		override = {
			asval_unit = {
				a_obj = "a_vg",
				parent = "olympic",
				adds = { "olympic_unit"},
				override = {
					olympic_unit = {
						a_obj = "a_body"
					}
				}
			},
			wpn_fps_addon_ris = {
				parent = "asval"
			}
		}
	},
	wpn_fps_upg_fl_ass_peq15 = {
		adds = { "asval_unit", "wpn_fps_addon_ris" },
		parent = "asval",
		override = {
			asval_unit = {
				a_obj = "a_vg",
				parent = "olympic",
				adds = { "olympic_unit"},
				override = {
					olympic_unit = {
						a_obj = "a_body"
					}
				}
			},
			wpn_fps_addon_ris = {
				parent = "asval"
			}
		}
	},
	wpn_fps_upg_fl_ass_smg_sho_peqbox = {
		adds = { "asval_unit", "wpn_fps_addon_ris" },
		parent = "asval",
		override = {
			asval_unit = {
				a_obj = "a_vg",
				parent = "olympic",
				adds = { "olympic_unit"},
				override = {
					olympic_unit = {
						a_obj = "a_body"
					}
				}
			},
			wpn_fps_addon_ris = {
				parent = "asval"
			}
		}
	},
	wpn_fps_upg_fl_ass_smg_sho_surefire = {
		adds = { "asval_unit", "wpn_fps_addon_ris" },
		parent = "asval",
		override = {
			asval_unit = {
				a_obj = "a_vg",
				parent = "olympic",
				adds = { "olympic_unit"},
				override = {
					olympic_unit = {
						a_obj = "a_body"
					}
				}
			},
			wpn_fps_addon_ris = {
				parent = "asval"
			}
		}
	},
	wpn_fps_upg_fl_ass_utg = {
		adds = { "asval_unit", "wpn_fps_addon_ris" },
		parent = "asval",
		override = {
			asval_unit = {
				a_obj = "a_vg",
				parent = "olympic",
				adds = { "olympic_unit"},
				override = {
					olympic_unit = {
						a_obj = "a_body"
					}
				}
			},
			wpn_fps_addon_ris = {
				parent = "asval"
			}
		}
	}		
}

-- Long
tweak_data.weapon.factory.parts.wpn_fps_lmg_hk21_fg_long.override = {
	wpn_fps_upg_fl_ass_laser = {
		adds = { "g3_unit", "wpn_fps_addon_ris" },
		parent = "g3",
		override = {
			g3_unit = {
				a_obj = "a_body"
			},
			wpn_fps_addon_ris = {
				parent = "g3"
			}
		}
	},
	wpn_fps_upg_fl_ass_peq15 = {
		adds = { "g3_unit", "wpn_fps_addon_ris" },
		parent = "g3",
		override = {
			g3_unit = {
				a_obj = "a_body"
			},
			wpn_fps_addon_ris = {
				parent = "g3"
			}
		}
	},
	wpn_fps_upg_fl_ass_smg_sho_peqbox = {
		adds = { "g3_unit", "wpn_fps_addon_ris" },
		parent = "g3",
		override = {
			g3_unit = {
				a_obj = "a_body"
			},
			wpn_fps_addon_ris = {
				parent = "g3"
			}
		}
	},
	wpn_fps_upg_fl_ass_smg_sho_surefire = {
		adds = { "g3_unit", "wpn_fps_addon_ris" },
		parent = "g3",
		override = {
			g3_unit = {
				a_obj = "a_body"
			},
			wpn_fps_addon_ris = {
				parent = "g3"
			}
		}
	},
	wpn_fps_upg_fl_ass_utg = {
		adds = { "g3_unit", "wpn_fps_addon_ris" },
		parent = "g3",
		override = {
			g3_unit = {
				a_obj = "a_body"
			},
			wpn_fps_addon_ris = {
				parent = "g3"
			}
		}
	}		
}

tweak_data.weapon.factory.parts.wpn_fps_lmg_par_upper_reciever.override = {
	wpn_fps_upg_o_rx01 = {
		a_obj = "a_reload",
		parent = "upper_reciever"
	}
}

tweak_data.weapon.factory.parts.wpn_fps_lmg_m249_upper_reciever.override = {
	wpn_fps_upg_o_rx01 = {
		a_obj = "g_rearsight",
		parent = "upper_reciever"
	}
}
